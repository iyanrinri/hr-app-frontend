import{K as f,k as y,j as u,x as d}from"./DEyY0kFD.js";import{u as m}from"./DYvQZ50l.js";const c=()=>{const r=d().params.tenant_slug;return a=>{const t=a.startsWith("/")?a:`/${a}`;return r?`/api/${r}${t}`:`/api${t}`}},g=(l={})=>{const r=c(),a=f(()=>({...y(l)})),{data:t,pending:e,error:s,refresh:n}=m(()=>r("/payroll"),{key:"payrolls",query:a,watch:[a],server:!1},"$Vpk_xJSIi6");return{data:t,loading:e,error:s,refresh:n}},P=(l={})=>{const r=c(),a=f(()=>({...y(l)})),{data:t,pending:e,error:s,refresh:n}=m(()=>r("/payroll/my"),{key:"my-payrolls",query:a,watch:[a],server:!1},"$UsxDe7tf9-");return{data:t,loading:e,error:s,refresh:n}},v=l=>{const r=c(),a=f(()=>{const o=y(l);return o?{employeeId:o}:{}}),{data:t,pending:e,error:s,refresh:n}=m(()=>r("/payroll/summary"),{key:`payroll-summary-${y(l)||"all"}`,query:a,watch:[a],server:!1},"$f0AzCW2Mc_");return{data:t,loading:e,error:s,refresh:n}},S=()=>{const l=c(),r=u(!1);return{mutate:async(t,e)=>{r.value=!0;try{await $fetch(l("/payroll"),{method:"POST",body:t}),e?.onSuccess&&e.onSuccess()}catch(s){throw e?.onError&&e.onError(s),s}finally{r.value=!1}},loading:r}},$=()=>{const l=c(),r=u(!1);return{mutate:async(t,e)=>{r.value=!0;try{await $fetch(l("/payroll/process"),{method:"PUT",body:t}),e?.onSuccess&&e.onSuccess()}catch(s){throw e?.onError&&e.onError(s),s}finally{r.value=!1}},loading:r}},w=()=>{const l=c(),r=u(!1);return{mutate:async(t,e)=>{r.value=!0;try{await $fetch(l(`/payroll/${t}/mark-paid`),{method:"PUT"}),e?.onSuccess&&e.onSuccess()}catch(s){throw e?.onError&&e.onError(s),s}finally{r.value=!1}},loading:r}},E=()=>{const l=c(),r=u(!1),a=u(null),t=u(null);return{mutate:async(s,n)=>{r.value=!0,a.value=null;try{const o=await $fetch(l("/payroll/bulk-generate"),{method:"POST",body:s});t.value=o,n?.onSuccess&&n.onSuccess(o)}catch(o){throw a.value=o,n?.onError&&n.onError(o),o}finally{r.value=!1}},loading:r,data:t,error:a}},U=()=>{const l=c(),r=u(!1);return{mutate:async(t,e)=>{r.value=!0;try{await $fetch(l(`/payroll/${t}`),{method:"DELETE"}),e?.onSuccess&&e.onSuccess()}catch(s){throw e?.onError&&e.onError(s),s}finally{r.value=!1}},loading:r}};export{v as a,$ as b,w as c,U as d,E as e,S as f,P as g,g as u};
