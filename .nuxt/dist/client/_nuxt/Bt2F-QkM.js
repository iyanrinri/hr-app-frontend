import{u as D,a as N,b as $,c as M,_ as C,d as E,e as B}from"./CbFtUkUC.js";import{g as V,j as I,c as n,k as e,a as t,p as f,b as o,d as l,t as d,I as S,o as i,a3 as p,a4 as g,a5 as j,M as z}from"./DX_cbf2s.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";import"./-LiBT2fH.js";import"./uRmCsCMF.js";import"./Dnm_KAh1.js";import"./D2JNKblU.js";const L={key:0,class:"min-h-[400px] flex items-center justify-center"},T={key:1,class:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},A={class:"md:flex md:items-center md:justify-between"},q={class:"mt-4 flex md:mt-0 md:ml-4"},F={class:"relative mb-8"},G={class:"h-48 rounded-xl bg-gradient-to-r from-brand-navy/90 via-blue-600/90 to-indigo-600/90 shadow-xl overflow-hidden relative"},H={class:"absolute top-0 right-0 p-8 opacity-10"},J={class:"px-8 relative"},K={class:"flex flex-col md:flex-row items-end gap-6 -mt-12"},O={class:"relative z-10"},Q={class:"flex-1 pb-2"},R={class:"text-3xl font-bold text-gray-900"},W={class:"flex flex-wrap items-center text-sm text-gray-600 gap-3 mt-2 font-medium"},X={class:"flex items-center bg-gray-100 px-3 py-1 rounded-full border border-gray-200 text-gray-700"},Y={class:"flex items-center bg-gray-100 px-3 py-1 rounded-full border border-gray-200 text-gray-700"},Z={class:"flex items-center bg-gray-100 px-3 py-1 rounded-full border border-gray-200 text-gray-700"},ee={class:"pb-4 z-10"},te={class:"mt-16 pt-2"},se={key:0,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-8"},ue=V({__name:"index",setup(ae){const{data:a,loading:x,refresh:c}=D(),{mutate:y,loading:b}=N(),{mutate:v,loading:_}=$(),{mutate:h,loading:w}=M(),r=I(!1),P=async m=>{await v(m),c()},k=async()=>{await h(),c()},U=async m=>{await y(m,{onSuccess:()=>{r.value=!1,c()}})};return(m,s)=>e(x)||!e(a)?(i(),n("div",L,[...s[3]||(s[3]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-navy"},null,-1)])])):(i(),n("div",T,[t("div",A,[s[5]||(s[5]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," My Profile "),t("p",{class:"mt-1 text-sm text-gray-500"}," View and manage your personal information ")],-1)),t("div",q,[r.value?f("",!0):(i(),n("button",{key:0,onClick:s[0]||(s[0]=u=>r.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-lg shadow-brand-navy/20 text-sm font-medium rounded-md text-white bg-brand-navy hover:bg-brand-navy/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-navy"},[o(e(p),{class:"w-4 h-4 mr-2"}),s[4]||(s[4]=l(" Edit Profile ",-1))]))])]),t("div",F,[t("div",G,[s[6]||(s[6]=t("div",{class:"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-overlay"},null,-1)),t("div",H,[o(e(g),{class:"w-64 h-64 text-white transform rotate-12"})])]),t("div",J,[t("div",K,[t("div",O,[o(C,{currentImageUrl:e(a).profilePicture||e(a).profilePictureUrl,altText:`${e(a).firstName} ${e(a).lastName}`,isUploading:e(_),isDeleting:e(w),canEdit:!0,size:"lg",onUpload:P,onDelete:k},null,8,["currentImageUrl","altText","isUploading","isDeleting"])]),t("div",Q,[t("h1",R,d(e(a).firstName)+" "+d(e(a).lastName),1),t("div",W,[t("span",X,[o(e(j),{class:"w-3.5 h-3.5 mr-2 text-brand-navy"}),l(" "+d(e(a).user?.role||e(a).role),1)]),t("span",Y,[o(e(z),{class:"w-3.5 h-3.5 mr-2 text-brand-navy"}),l(" "+d(e(a).user?.email||e(a).email),1)]),t("span",Z,[o(e(g),{class:"w-3.5 h-3.5 mr-2 text-brand-navy"}),l(" #"+d(e(a).employeeNumber||e(a).id),1)])])]),t("div",ee,[r.value?f("",!0):(i(),n("button",{key:0,onClick:s[1]||(s[1]=u=>r.value=!0),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-md text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-navy"},[o(e(p),{class:"w-4 h-4 mr-2"}),s[7]||(s[7]=l(" Edit Profile ",-1))]))])])])]),t("div",te,[r.value?(i(),n("div",se,[s[8]||(s[8]=t("div",{class:"mb-6 pb-6 border-b border-gray-100"},[t("h2",{class:"text-xl font-bold text-gray-900"},"Edit Profile Information"),t("p",{class:"text-sm text-gray-500 mt-1"},"Update your personal and contact details")],-1)),o(E,{initialData:e(a),isLoading:e(b),isAdmin:!1,onSubmit:U,onCancel:s[2]||(s[2]=u=>r.value=!1)},null,8,["initialData","isLoading"])])):(i(),S(B,{key:1,profile:e(a)},null,8,["profile"]))])]))}});export{ue as default};
