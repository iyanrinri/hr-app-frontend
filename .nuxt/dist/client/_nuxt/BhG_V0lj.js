import{_ as U}from"./Dnm_KAh1.js";import{_ as T,a as S}from"./B-kHxmq3.js";import{_ as P}from"./-LiBT2fH.js";import{_ as W}from"./97xpxdZP.js";import{_ as C}from"./BfigT44c.js";import{_ as M}from"./B9YZYzJt.js";import{g as q,x as A,a7 as E,j as $,c as B,a as l,b as o,w as r,o as L,d,k as m,a8 as H,n as N,V as p,aU as c,t as j}from"./DX_cbf2s.js";import{d as R}from"./20hiz6zY.js";import"./D2JNKblU.js";import"./uRmCsCMF.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";const F={class:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},I={class:"flex items-center space-x-4"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={class:"md:col-span-2"},z={class:"md:col-span-2 space-y-3"},G={class:"flex items-center space-x-2"},K={class:"flex items-center space-x-2"},Q={class:"md:col-span-2"},X={class:"md:col-span-2"},Y={class:"flex items-center space-x-2"},Z={class:"flex justify-end space-x-4"},pe=q({__name:"create",setup(h){const y=A(),v=E(),b=y.params.tenant_slug,{mutate:x,loading:f}=R(),a=$({name:"",startDate:"",endDate:"",workingDaysPerWeek:5,workingHoursPerDay:8,workingStartTime:"09:00",workingEndTime:"17:00",allowSaturdayWork:!1,allowSundayWork:!1,lateToleranceMinutes:15,earlyLeaveToleranceMinutes:15,description:"",isActive:!0}),i=()=>{v.push(`/${b}/dashboard/attendance-periods`)},g=async()=>{if(!a.value.name||!a.value.startDate||!a.value.endDate){alert("Please fill in all required fields");return}if(new Date(a.value.endDate)<=new Date(a.value.startDate)){alert("End date must be after start date");return}const s={...a.value};s.description||delete s.description;try{await x(s),i()}catch(e){console.error(e),alert("Failed to create attendance period")}};return(s,e)=>{const u=U,k=S,V=T,n=P,w=W,_=C,D=M;return L(),B("div",F,[l("div",I,[o(u,{variant:"ghost",onClick:i},{default:r(()=>[o(m(H),{class:"w-4 h-4 mr-2"}),e[13]||(e[13]=d(" Back ",-1))]),_:1}),e[14]||(e[14]=l("h2",{class:"text-2xl font-bold text-gray-900"},"Create Attendance Period",-1))]),o(D,null,{default:r(()=>[o(V,null,{default:r(()=>[o(k,null,{default:r(()=>[...e[15]||(e[15]=[d("Period Details",-1)])]),_:1})]),_:1}),o(_,null,{default:r(()=>[l("form",{onSubmit:N(g,["prevent"]),class:"space-y-6"},[l("div",J,[l("div",O,[o(n,{label:"Period Name",placeholder:"e.g., January 2024",modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.name=t),required:""},null,8,["modelValue"])]),o(n,{label:"Start Date",type:"date",modelValue:a.value.startDate,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.startDate=t),required:""},null,8,["modelValue"]),o(n,{label:"End Date",type:"date",modelValue:a.value.endDate,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.endDate=t),required:""},null,8,["modelValue"]),o(n,{label:"Working Days Per Week",type:"number",min:"1",max:"7",modelValue:a.value.workingDaysPerWeek,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.workingDaysPerWeek=t),modelModifiers:{number:!0},required:""},null,8,["modelValue"]),o(n,{label:"Working Hours Per Day",type:"number",min:"1",max:"24",modelValue:a.value.workingHoursPerDay,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.workingHoursPerDay=t),modelModifiers:{number:!0},required:""},null,8,["modelValue"]),o(n,{label:"Working Start Time",type:"time",modelValue:a.value.workingStartTime,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.workingStartTime=t),required:""},null,8,["modelValue"]),o(n,{label:"Working End Time",type:"time",modelValue:a.value.workingEndTime,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.workingEndTime=t),required:""},null,8,["modelValue"]),o(n,{label:"Late Tolerance (Minutes)",type:"number",min:"0",max:"120",modelValue:a.value.lateToleranceMinutes,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.lateToleranceMinutes=t),modelModifiers:{number:!0},required:""},null,8,["modelValue"]),o(n,{label:"Early Leave Tolerance (Minutes)",type:"number",min:"0",max:"120",modelValue:a.value.earlyLeaveToleranceMinutes,"onUpdate:modelValue":e[8]||(e[8]=t=>a.value.earlyLeaveToleranceMinutes=t),modelModifiers:{number:!0},required:""},null,8,["modelValue"]),l("div",z,[l("label",G,[p(l("input",{type:"checkbox",class:"w-4 h-4 text-brand-navy border-gray-600 rounded focus:ring-brand-cyan","onUpdate:modelValue":e[9]||(e[9]=t=>a.value.allowSaturdayWork=t)},null,512),[[c,a.value.allowSaturdayWork]]),e[16]||(e[16]=l("span",{class:"text-sm font-medium text-gray-900"},"Allow Saturday Work",-1))]),l("label",K,[p(l("input",{type:"checkbox",class:"w-4 h-4 text-brand-navy border-gray-600 rounded focus:ring-brand-cyan","onUpdate:modelValue":e[10]||(e[10]=t=>a.value.allowSundayWork=t)},null,512),[[c,a.value.allowSundayWork]]),e[17]||(e[17]=l("span",{class:"text-sm font-medium text-gray-900"},"Allow Sunday Work",-1))])]),l("div",Q,[o(w,{label:"Description",placeholder:"Optional description for this period",modelValue:a.value.description,"onUpdate:modelValue":e[11]||(e[11]=t=>a.value.description=t)},null,8,["modelValue"])]),l("div",X,[l("label",Y,[p(l("input",{type:"checkbox",class:"w-4 h-4 text-brand-navy border-gray-600 rounded focus:ring-brand-cyan","onUpdate:modelValue":e[12]||(e[12]=t=>a.value.isActive=t)},null,512),[[c,a.value.isActive]]),e[18]||(e[18]=l("span",{class:"text-sm font-medium text-gray-900"},"Set as Active Period",-1))])])]),l("div",Z,[o(u,{type:"button",variant:"secondary",onClick:i},{default:r(()=>[...e[19]||(e[19]=[d(" Cancel ",-1)])]),_:1}),o(u,{type:"submit",disabled:m(f)},{default:r(()=>[d(j(m(f)?"Creating...":"Create Period"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])}}});export{pe as default};
