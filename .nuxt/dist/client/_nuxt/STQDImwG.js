import{_ as U}from"./Dnm_KAh1.js";import{_ as w,a as $}from"./B-kHxmq3.js";import{_ as N}from"./-LiBT2fH.js";import{_ as P}from"./BfigT44c.js";import{_ as B}from"./B9YZYzJt.js";import{g as L,br as S,j as f,c as v,a as s,b as a,w as n,k as l,bs as j,o as c,d,a8 as q,n as E,V as T,Y as A,p as M}from"./DX_cbf2s.js";import{p as O}from"./B1gHIjVw.js";import"./D2JNKblU.js";import"./uRmCsCMF.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";const R={class:"space-y-6 max-w-2xl mx-auto"},H={class:"flex items-center gap-4"},I={class:"grid grid-cols-2 gap-4"},Y={class:"space-y-1"},z={class:"flex justify-end gap-3"},F={key:0,class:"mr-2"},se=L({__name:"index",setup(G){const i=j(),_=S().params.tenant_slug,{mutate:b,loading:p}=O(),t=f({name:"",startDate:"",endDate:"",description:""}),r=f({}),g=()=>(r.value={},(!t.value.name||t.value.name.length<3)&&(r.value.name="Name is required (min 3 chars)"),t.value.startDate||(r.value.startDate="Start date is required"),t.value.endDate||(r.value.endDate="End date is required"),Object.keys(r.value).length===0),x=async()=>{if(g())try{await b(t.value),i.push(`/${_}/dashboard/leaves/periods`)}catch{}};return(y,e)=>{const u=U,D=$,V=w,m=N,C=P,k=B;return c(),v("div",R,[s("div",H,[a(u,{variant:"ghost",onClick:e[0]||(e[0]=o=>l(i).back())},{default:n(()=>[a(l(q),{class:"w-4 h-4 mr-2"}),e[6]||(e[6]=d(" Back ",-1))]),_:1}),e[7]||(e[7]=s("h2",{className:"text-2xl font-bold text-gray-900"},"Create Leave Period",-1))]),a(k,null,{default:n(()=>[a(V,null,{default:n(()=>[a(D,null,{default:n(()=>[...e[8]||(e[8]=[d("Period Details",-1)])]),_:1})]),_:1}),a(C,null,{default:n(()=>[s("form",{onSubmit:E(x,["prevent"]),class:"space-y-6"},[a(m,{label:"Period Name (e.g. Annual Leave 2025)",modelValue:t.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.name=o),error:r.value.name},null,8,["modelValue","error"]),s("div",I,[a(m,{label:"Start Date",type:"date",modelValue:t.value.startDate,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.startDate=o),error:r.value.startDate},null,8,["modelValue","error"]),a(m,{label:"End Date",type:"date",modelValue:t.value.endDate,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.endDate=o),error:r.value.endDate},null,8,["modelValue","error"])]),s("div",Y,[e[9]||(e[9]=s("label",{class:"text-sm font-medium text-gray-700"},"Description",-1)),T(s("textarea",{class:"w-full min-h-[100px] border border-gray-300 rounded-md p-2 focus:ring-brand-navy focus:border-brand-navy",placeholder:"Optional description...","onUpdate:modelValue":e[4]||(e[4]=o=>t.value.description=o)},null,512),[[A,t.value.description]])]),s("div",z,[a(u,{type:"button",variant:"secondary",onClick:e[5]||(e[5]=o=>l(i).back())},{default:n(()=>[...e[10]||(e[10]=[d("Cancel",-1)])]),_:1}),a(u,{type:"submit",disabled:l(p)},{default:n(()=>[l(p)?(c(),v("span",F,"Loading...")):M("",!0),e[11]||(e[11]=d(" Create Period ",-1))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])}}});export{se as default};
