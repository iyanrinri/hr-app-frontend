import{_ as T}from"./PIMMusR-.js";import{_ as V}from"./Cb5BKmlr.js";import{g as I,j as f,K as h,c as n,a as t,b as l,I as j,w as u,k as o,t as a,o as r,V as _,F as w,l as D,$ as B,Y as S,v as E,d as g,aK as $,aS as L,aq as O,P,G as U}from"./DEyY0kFD.js";import{u as G}from"./CAATqtpM.js";import{u as K,a as z}from"./Da9Ptqq8.js";import{_ as Y}from"./BBiXgJFN.js";import{f as v}from"./DEBy37vB.js";import{s as J}from"./D-UBt9DX.js";import{e as Q}from"./Cwxqfid7.js";import"./uRmCsCMF.js";import"./DYvQZ50l.js";import"./D8dPcGoU.js";import"./BlBPs-ZZ.js";const W={class:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},X={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Z={class:"space-y-2"},q=["value"],tt={class:"space-y-2"},et={class:"space-y-2"},st={class:"flex border-b border-gray-200 mt-6 gap-8"},ot={class:"flex items-center gap-2"},at={class:"flex items-center gap-2"},lt={key:0,class:"text-center py-12 bg-white rounded-xl shadow-sm border border-dashed border-gray-300"},rt={class:"overflow-x-auto"},nt={class:"min-w-full divide-y divide-gray-200"},it={class:"bg-white divide-y divide-gray-200"},dt={key:0},ut={key:1},mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yt={class:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ct={class:"px-6 py-4 whitespace-nowrap"},ft={key:2,class:"space-y-6"},gt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},vt={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg"},bt={class:"flex items-center justify-between mb-4"},ht={class:"text-4xl font-bold"},_t={class:"text-white/60 text-sm mt-2"},wt={class:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-6 text-white shadow-lg"},Dt={class:"flex items-center justify-between mb-4"},kt={class:"text-4xl font-bold"},Mt={class:"space-y-3"},At={class:"flex justify-between items-center text-sm"},Ct={class:"font-medium text-gray-900"},St={class:"flex justify-between items-center text-sm"},Et={class:"font-medium text-gray-900"},Ht={class:"overflow-x-auto"},Nt={class:"min-w-full text-sm"},Ft={class:"divide-y divide-gray-50"},Rt={class:"py-3"},Tt={class:"py-3"},Vt={class:"py-3 text-right"},It={class:"py-3 text-right"},Xt=I({__name:"index",setup(jt){const m=f(""),i=f("history"),y=f(v(J(new Date),"yyyy-MM-dd")),x=f(v(Q(new Date),"yyyy-MM-dd")),{data:H}=G(),N=h(()=>({take:50,startDate:i.value==="history"?y.value:void 0,endDate:i.value==="history"?x.value:void 0})),{data:p,loading:F}=K(m,N),k=h(()=>p.value?Array.isArray(p.value)?p.value:p.value.requests||[]:[]),R=h(()=>({startDate:y.value,endDate:x.value,status:void 0})),{data:d,loading:M}=z(m,R),A=C=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(Number(C));return(C,e)=>{const b=T,c=V;return r(),n("div",W,[e[23]||(e[23]=t("div",{class:"md:flex md:items-center md:justify-between"},[t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Overtime Administration "),t("p",{class:"mt-1 text-sm text-gray-500"}," Monitor and report on employee overtime ")])],-1)),l(c,null,{default:u(()=>[l(b,{class:"p-6"},{default:u(()=>[t("div",X,[t("div",Z,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-700"},"Select Employee",-1)),_(t("select",{class:"flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-navy focus:ring-offset-2","onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s)},[e[5]||(e[5]=t("option",{value:""},"-- Select Employee --",-1)),(r(!0),n(w,null,D(o(H),s=>(r(),n("option",{key:s.id,value:s.id},a(s.name||s.firstName+" "+s.lastName)+" ("+a(s.position)+") ",9,q))),128))],512),[[B,m.value]])]),t("div",tt,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-700"},"Start Date",-1)),_(t("input",{type:"date",class:"flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-navy","onUpdate:modelValue":e[1]||(e[1]=s=>y.value=s)},null,512),[[S,y.value]])]),t("div",et,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-700"},"End Date",-1)),_(t("input",{type:"date",class:"flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-navy","onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s)},null,512),[[S,x.value]])])]),t("div",st,[t("button",{onClick:e[3]||(e[3]=s=>i.value="history"),class:E(["pb-3 text-sm font-medium transition-colors relative",i.value==="history"?"text-brand-navy border-b-2 border-brand-navy":"text-gray-500 hover:text-gray-700"])},[t("span",ot,[l(o($),{class:"w-4 h-4"}),e[9]||(e[9]=g(" Request History ",-1))])],2),t("button",{onClick:e[4]||(e[4]=s=>i.value="total"),class:E(["pb-3 text-sm font-medium transition-colors relative",i.value==="total"?"text-brand-navy border-b-2 border-brand-navy":"text-gray-500 hover:text-gray-700"])},[t("span",at,[l(o(L),{class:"w-4 h-4"}),e[10]||(e[10]=g(" Total Hours Analysis ",-1))])],2)])]),_:1})]),_:1}),m.value?i.value==="history"?(r(),j(c,{key:1},{default:u(()=>[l(b,{class:"p-0 overflow-hidden"},{default:u(()=>[t("div",rt,[t("table",nt,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Duration"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),t("tbody",it,[o(F)?(r(),n("tr",dt,[...e[12]||(e[12]=[t("td",{colspan:"5",class:"px-6 py-4 text-center"},"Loading history...",-1)])])):k.value.length===0?(r(),n("tr",ut,[...e[13]||(e[13]=[t("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500"},"No records found for this period.",-1)])])):(r(!0),n(w,{key:2},D(k.value,s=>(r(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",mt,a(o(v)(new Date(s.date),"MMM d, yyyy")),1),t("td",yt,a(s.reason),1),t("td",xt,a((s.totalMinutes/60).toFixed(1))+" hrs",1),t("td",pt,a(s.calculatedAmount?A(s.calculatedAmount):"-"),1),t("td",ct,[l(Y,{status:s.status},null,8,["status"])])]))),128))])])])]),_:1})]),_:1})):(r(),n("div",ft,[t("div",gt,[t("div",vt,[t("div",bt,[e[15]||(e[15]=t("h3",{class:"text-white/80 font-medium"},"Total Hours",-1)),l(o(P),{class:"w-8 h-8 text-white/40"})]),t("div",ht,a(o(M)?"...":o(d)?.totalHours.toFixed(1))+" hrs ",1),t("p",_t,a(o(d)?.totalMinutes)+" minutes Total",1)]),t("div",wt,[t("div",Dt,[e[16]||(e[16]=t("h3",{class:"text-white/80 font-medium"},"Total Compensation",-1)),l(o(U),{class:"w-8 h-8 text-white/40"})]),t("div",kt,a(o(M)?"...":o(d)?.totalAmount?A(o(d).totalAmount):"Rp 0"),1),e[17]||(e[17]=t("p",{class:"text-white/60 text-sm mt-2"},"Estimated Amount",-1))]),l(c,{class:"p-6"},{default:u(()=>[e[20]||(e[20]=t("h3",{class:"text-gray-500 font-medium mb-4"},"Request Status Breakdown",-1)),t("div",Mt,[t("div",At,[e[18]||(e[18]=t("span",{class:"flex items-center gap-2"},[t("div",{class:"w-3 h-3 rounded-full bg-green-500"}),g(" Approved")],-1)),t("span",Ct,a(o(d)?.requests?.filter(s=>s.status==="APPROVED").length||0),1)]),t("div",St,[e[19]||(e[19]=t("span",{class:"flex items-center gap-2"},[t("div",{class:"w-3 h-3 rounded-full bg-yellow-400"}),g(" Pending")],-1)),t("span",Et,a(o(d)?.requests?.filter(s=>s.status==="PENDING").length||0),1)])])]),_:1})]),l(c,null,{default:u(()=>[l(b,{class:"p-6"},{default:u(()=>[e[22]||(e[22]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Detailed Breakdown",-1)),t("div",Ht,[t("table",Nt,[e[21]||(e[21]=t("thead",null,[t("tr",{class:"border-b border-gray-100"},[t("th",{class:"text-left py-2 font-medium text-gray-500"},"Date"),t("th",{class:"text-left py-2 font-medium text-gray-500"},"Hours"),t("th",{class:"text-right py-2 font-medium text-gray-500"},"Rate (Multiplier)"),t("th",{class:"text-right py-2 font-medium text-gray-500"},"Amount")])],-1)),t("tbody",Ft,[(r(!0),n(w,null,D(o(d)?.requests,s=>(r(),n("tr",{key:s.id},[t("td",Rt,a(o(v)(new Date(s.date),"dd MMM yyyy")),1),t("td",Tt,a((s.totalMinutes/60).toFixed(1)),1),t("td",Vt,a(s.overtimeRate||"1.0")+"x",1),t("td",It,a(s.calculatedAmount?Number(s.calculatedAmount).toLocaleString("id-ID"):"-"),1)]))),128))])])])]),_:1})]),_:1})])):(r(),n("div",lt,[l(o(O),{class:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e[11]||(e[11]=t("p",{class:"text-gray-500 text-lg"},"Select an employee to view details",-1))]))])}}});export{Xt as default};
