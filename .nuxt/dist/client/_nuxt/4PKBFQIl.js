import{_ as we}from"./PIMMusR-.js";import{_ as xe}from"./Cb5BKmlr.js";import{a as he,b as be,u as ve,c as ge}from"./LbrgZD77.js";import{_ as _e}from"./CCY-pFV-.js";import{g as ne,aw as Te,K as V,j as W,af as De,y as ke,c as D,o as k,n as Me,p as G,a,V as S,$ as Pe,F as U,l as j,t as I,k as _,b as v,d as F,Y as Oe,w as R,a1 as He,P as Ie,X as Ee}from"./DEyY0kFD.js";import{u as Ye}from"./CAATqtpM.js";import{t as L,c as N,d as ae,g as oe,h as qe,i as Ne,j as Re,s as z,k as ie,l as Le,o as Ce,a as le,e as $e,p as ee,q as Ae,w as te,r as Qe,f as A}from"./DEBy37vB.js";import{d as Ve,g as Ge}from"./cyg0TJd-.js";import{_ as We}from"./BBiXgJFN.js";import{O as se}from"./BlBPs-ZZ.js";import{Y as Be,h as re,G as Fe,V as Xe,S as Ue}from"./EVn079z-.js";import"./uRmCsCMF.js";import"./DYvQZ50l.js";import"./D8dPcGoU.js";function ue(r,e,t){const s=L(r,t?.in);return isNaN(e)?N(t?.in||r,NaN):(e&&s.setDate(s.getDate()+e),s)}function je(r,e,t){const s=Ve(r,e)/ae;return Ge(t?.roundingMethod)(s)}function ze(){return Object.assign({},oe())}function Ze(r,e){const t=L(r,e?.in).getDay();return t===0?7:t}function Ke(r,e){const t=Je(e)?new e(0):N(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function Je(r){return typeof r=="function"&&r.prototype?.constructor===r}const Se=10;class ce{subPriority=0;validate(e,t){return!0}}class et extends ce{constructor(e,t,s,n,i){super(),this.value=e,this.validateValue=t,this.setValue=s,this.priority=n,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,s){return this.setValue(e,t,this.value,s)}}class tt extends ce{priority=Se;subPriority=-1;constructor(e,t){super(),this.context=e||(s=>N(t,s))}set(e,t){return t.timestampIsSet?e:N(e,Ke(e,this.context))}}class c{run(e,t,s,n){const i=this.parse(e,t,s,n);return i?{setter:new et(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,s){return!0}}class st extends c{priority=140;parse(e,t,s){switch(t){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,t,s){return t.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const x={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Y={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function h(r,e){return r&&{value:e(r.value),rest:r.rest}}function y(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function q(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const s=t[1]==="+"?1:-1,n=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,p=t[5]?parseInt(t[5],10):0;return{value:s*(n*qe+i*ae+p*Ne),rest:e.slice(t[0].length)}}function de(r){return y(x.anyDigitsSigned,r)}function w(r,e){switch(r){case 1:return y(x.singleDigit,e);case 2:return y(x.twoDigits,e);case 3:return y(x.threeDigits,e);case 4:return y(x.fourDigits,e);default:return y(new RegExp("^\\d{1,"+r+"}"),e)}}function X(r,e){switch(r){case 1:return y(x.singleDigitSigned,e);case 2:return y(x.twoDigitsSigned,e);case 3:return y(x.threeDigitsSigned,e);case 4:return y(x.fourDigitsSigned,e);default:return y(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Z(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function me(r,e){const t=e>0,s=t?e:1-e;let n;if(s<=50)n=r||100;else{const i=s+50,p=Math.trunc(i/100)*100,g=r>=i%100;n=r+p-(g?100:0)}return t?n:1-n}function fe(r){return r%400===0||r%4===0&&r%100!==0}class rt extends c{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,s){const n=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return h(w(4,e),n);case"yo":return h(s.ordinalNumber(e,{unit:"year"}),n);default:return h(w(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s){const n=e.getFullYear();if(s.isTwoDigitYear){const p=me(s.year,n);return e.setFullYear(p,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class nt extends c{priority=130;parse(e,t,s){const n=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return h(w(4,e),n);case"Yo":return h(s.ordinalNumber(e,{unit:"year"}),n);default:return h(w(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s,n){const i=Re(e,n);if(s.isTwoDigitYear){const g=me(s.year,i);return e.setFullYear(g,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),z(e,n)}const p=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(p,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),z(e,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class at extends c{priority=130;parse(e,t){return X(t==="R"?4:t.length,e)}set(e,t,s){const n=N(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),ie(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class ot extends c{priority=130;parse(e,t){return X(t==="u"?4:t.length,e)}set(e,t,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class it extends c{priority=120;parse(e,t,s){switch(t){case"Q":case"QQ":return w(t.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class lt extends c{priority=120;parse(e,t,s){switch(t){case"q":case"qq":return w(t.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ut extends c{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,s){const n=i=>i-1;switch(t){case"M":return h(y(x.month,e),n);case"MM":return h(w(2,e),n);case"Mo":return h(s.ordinalNumber(e,{unit:"month"}),n);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class ct extends c{priority=110;parse(e,t,s){const n=i=>i-1;switch(t){case"L":return h(y(x.month,e),n);case"LL":return h(w(2,e),n);case"Lo":return h(s.ordinalNumber(e,{unit:"month"}),n);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function dt(r,e,t){const s=L(r,t?.in),n=Le(s,t)-e;return s.setDate(s.getDate()-n*7),L(s,t?.in)}class mt extends c{priority=100;parse(e,t,s){switch(t){case"w":return y(x.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s,n){return z(dt(e,s,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function ft(r,e,t){const s=L(r,t?.in),n=Ce(s,t)-e;return s.setDate(s.getDate()-n*7),s}class pt extends c{priority=100;parse(e,t,s){switch(t){case"I":return y(x.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return w(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s){return ie(ft(e,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const yt=[31,28,31,30,31,30,31,31,30,31,30,31],wt=[31,29,31,30,31,30,31,31,30,31,30,31];class xt extends c{priority=90;subPriority=1;parse(e,t,s){switch(t){case"d":return y(x.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}}validate(e,t){const s=e.getFullYear(),n=fe(s),i=e.getMonth();return n?t>=1&&t<=wt[i]:t>=1&&t<=yt[i]}set(e,t,s){return e.setDate(s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class ht extends c{priority=90;subpriority=1;parse(e,t,s){switch(t){case"D":case"DD":return y(x.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return w(t.length,e)}}validate(e,t){const s=e.getFullYear();return fe(s)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function K(r,e,t){const s=oe(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=L(r,t?.in),p=i.getDay(),C=(e%7+7)%7,H=7-n,M=e<0||e>6?e-(p+H)%7:(C+H)%7-(p+H)%7;return ue(i,M,t)}class bt extends c{priority=90;parse(e,t,s){switch(t){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,n){return e=K(e,s,n),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class vt extends c{priority=90;parse(e,t,s,n){const i=p=>{const g=Math.floor((p-1)/7)*7;return(p+n.weekStartsOn+6)%7+g};switch(t){case"e":case"ee":return h(w(t.length,e),i);case"eo":return h(s.ordinalNumber(e,{unit:"day"}),i);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,n){return e=K(e,s,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class gt extends c{priority=90;parse(e,t,s,n){const i=p=>{const g=Math.floor((p-1)/7)*7;return(p+n.weekStartsOn+6)%7+g};switch(t){case"c":case"cc":return h(w(t.length,e),i);case"co":return h(s.ordinalNumber(e,{unit:"day"}),i);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,n){return e=K(e,s,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function _t(r,e,t){const s=L(r,t?.in),n=Ze(s,t),i=e-n;return ue(s,i,t)}class Tt extends c{priority=90;parse(e,t,s){const n=i=>i===0?7:i;switch(t){case"i":case"ii":return w(t.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return h(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return h(s.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return h(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),n);default:return h(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),n)}}validate(e,t){return t>=1&&t<=7}set(e,t,s){return e=_t(e,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Dt extends c{priority=80;parse(e,t,s){switch(t){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Z(s),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class kt extends c{priority=80;parse(e,t,s){switch(t){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Z(s),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Mt extends c{priority=80;parse(e,t,s){switch(t){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Z(s),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Pt extends c{priority=70;parse(e,t,s){switch(t){case"h":return y(x.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,s){const n=e.getHours()>=12;return n&&s<12?e.setHours(s+12,0,0,0):!n&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class Ot extends c{priority=70;parse(e,t,s){switch(t){case"H":return y(x.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,s){return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Ht extends c{priority=70;parse(e,t,s){switch(t){case"K":return y(x.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class It extends c{priority=70;parse(e,t,s){switch(t){case"k":return y(x.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return w(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,s){const n=s<=24?s%24:s;return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Et extends c{priority=60;parse(e,t,s){switch(t){case"m":return y(x.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return w(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setMinutes(s,0,0),e}incompatibleTokens=["t","T"]}class Yt extends c{priority=50;parse(e,t,s){switch(t){case"s":return y(x.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return w(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setSeconds(s,0),e}incompatibleTokens=["t","T"]}class qt extends c{priority=30;parse(e,t){const s=n=>Math.trunc(n*Math.pow(10,-t.length+3));return h(w(t.length,e),s)}set(e,t,s){return e.setMilliseconds(s),e}incompatibleTokens=["t","T"]}class Nt extends c{priority=10;parse(e,t){switch(t){case"X":return q(Y.basicOptionalMinutes,e);case"XX":return q(Y.basic,e);case"XXXX":return q(Y.basicOptionalSeconds,e);case"XXXXX":return q(Y.extendedOptionalSeconds,e);default:return q(Y.extended,e)}}set(e,t,s){return t.timestampIsSet?e:N(e,e.getTime()-le(e)-s)}incompatibleTokens=["t","T","x"]}class Rt extends c{priority=10;parse(e,t){switch(t){case"x":return q(Y.basicOptionalMinutes,e);case"xx":return q(Y.basic,e);case"xxxx":return q(Y.basicOptionalSeconds,e);case"xxxxx":return q(Y.extendedOptionalSeconds,e);default:return q(Y.extended,e)}}set(e,t,s){return t.timestampIsSet?e:N(e,e.getTime()-le(e)-s)}incompatibleTokens=["t","T","X"]}class Lt extends c{priority=40;parse(e){return de(e)}set(e,t,s){return[N(e,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Ct extends c{priority=20;parse(e){return de(e)}set(e,t,s){return[N(e,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const $t={G:new st,y:new rt,Y:new nt,R:new at,u:new ot,Q:new it,q:new lt,M:new ut,L:new ct,w:new mt,I:new pt,d:new xt,D:new ht,E:new bt,e:new vt,c:new gt,i:new Tt,a:new Dt,b:new kt,B:new Mt,h:new Pt,H:new Ot,K:new Ht,k:new It,m:new Et,s:new Yt,S:new qt,X:new Nt,x:new Rt,t:new Lt,T:new Ct},At=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vt=/^'([^]*?)'?$/,Gt=/''/g,Wt=/\S/,Bt=/[a-zA-Z]/;function B(r,e,t,s){const n=()=>N(t,NaN),i=ze(),p=i.locale??$e,g=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,C=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,H={firstWeekContainsDate:g,weekStartsOn:C,locale:p},M=[new tt(s?.in,t)],Q=e.match(Qt).map(o=>{const m=o[0];if(m in ee){const P=ee[m];return P(o,p.formatLong)}return o}).join("").match(At),T=[];for(let o of Q){Ae(o)&&te(o,e,r),Qe(o)&&te(o,e,r);const m=o[0],P=$t[m];if(P){const{incompatibleTokens:O}=P;if(Array.isArray(O)){const E=T.find(d=>O.includes(d.token)||d.token===m);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${o}\` at the same time`)}else if(P.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${o}\` and any other token at the same time`);T.push({token:m,fullToken:o});const u=P.run(r,o,p.match,H);if(!u)return n();M.push(u.setter),r=u.rest}else{if(m.match(Bt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");if(o==="''"?o="'":m==="'"&&(o=Ft(o)),r.indexOf(o)===0)r=r.slice(o.length);else return n()}}if(r.length>0&&Wt.test(r))return n();const f=M.map(o=>o.priority).sort((o,m)=>m-o).filter((o,m,P)=>P.indexOf(o)===m).map(o=>M.filter(m=>m.priority===o).sort((m,P)=>P.subPriority-m.subPriority)).map(o=>o[0]);let l=L(t,s?.in);if(isNaN(+l))return n();const b={};for(const o of f){if(!o.validate(l,H))return n();const m=o.set(l,b,H);Array.isArray(m)?(l=m[0],Object.assign(b,m[1])):l=m}return l}function Ft(r){return r.match(Vt)[1].replace(Gt,"'")}const Xt={key:0,class:"space-y-2"},Ut=["disabled"],jt=["value"],zt={class:"grid grid-cols-1 gap-4"},Zt={class:"grid grid-cols-2 gap-4"},Kt={key:1,class:"bg-blue-50 text-brand-navy px-4 py-2 rounded-md text-sm font-medium flex items-center"},Jt={class:"space-y-2"},St={key:0,class:"text-sm text-red-500"},es={class:"flex justify-end gap-3 pt-4"},ts=["disabled"],ss={key:0,class:"mr-2"},rs=ne({__name:"OvertimeRequestForm",props:{initialData:{}},emits:["success","cancel"],setup(r,{emit:e}){const t=r,s=e,{mutate:n,loading:i}=he(),{mutate:p,loading:g}=be(),{data:C}=Ye(),H=Te(),M=V(()=>H.user),Q=V(()=>["ADMIN","SUPER","HR"].includes(M.value?.role||"")),T=V(()=>!!t.initialData),f=V(()=>i.value||g.value),l=W({employeeId:"",date:A(new Date,"yyyy-MM-dd"),startTime:"",endTime:"",reason:""}),b=W({}),o=W("");De(()=>{t.initialData&&(l.value={employeeId:t.initialData.employeeId?String(t.initialData.employeeId):"",date:A(new Date(t.initialData.date),"yyyy-MM-dd"),startTime:A(new Date(t.initialData.startTime),"HH:mm"),endTime:A(new Date(t.initialData.endTime),"HH:mm"),reason:t.initialData.reason||""})}),ke([()=>l.value.date,()=>l.value.startTime,()=>l.value.endTime],([O,u,E])=>{if(O&&u&&E)try{const d=B(`${O} ${u}`,"yyyy-MM-dd HH:mm",new Date);let $=B(`${O} ${E}`,"yyyy-MM-dd HH:mm",new Date);$<d&&($=new Date($.getTime()+1440*60*1e3));const J=je($,d),pe=Math.floor(J/60),ye=J%60;o.value=`${pe}h ${ye}m`}catch{o.value=""}else o.value=""});const m=()=>(b.value={},l.value.date||(b.value.date="Date is required"),l.value.startTime||(b.value.startTime="Start time is required"),l.value.endTime||(b.value.endTime="End time is required"),(!l.value.reason||l.value.reason.length<3)&&(b.value.reason="Reason is required"),Object.keys(b.value).length===0),P=async()=>{if(m())try{const O=B(`${l.value.date} ${l.value.startTime}`,"yyyy-MM-dd HH:mm",new Date);let u=B(`${l.value.date} ${l.value.endTime}`,"yyyy-MM-dd HH:mm",new Date);u<O&&(u=new Date(u.getTime()+1440*60*1e3));const d={employeeId:l.value.employeeId?Number(l.value.employeeId):M.value?.id?Number(M.value.id):0,date:l.value.date,startTime:O.toISOString(),endTime:u.toISOString(),reason:l.value.reason},$={onSuccess:()=>s("success")};T.value&&t.initialData?await p(t.initialData.id,d,$):await n(d,$)}catch{}};return(O,u)=>{const E=_e;return k(),D("form",{onSubmit:Me(P,["prevent"]),class:"space-y-4"},[Q.value?(k(),D("div",Xt,[u[7]||(u[7]=a("label",{class:"text-sm font-medium text-gray-700"},"Employee",-1)),S(a("select",{"onUpdate:modelValue":u[0]||(u[0]=d=>l.value.employeeId=d),class:"flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-navy focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:T.value},[u[6]||(u[6]=a("option",{value:""},"Select Employee (Yourself)",-1)),(k(!0),D(U,null,j(_(C),d=>(k(),D("option",{key:d.id,value:d.id},I(d.name||d.firstName+" "+d.lastName)+" ("+I(d.position)+") ",9,jt))),128))],8,Ut),[[Pe,l.value.employeeId]]),u[8]||(u[8]=a("p",{class:"text-xs text-gray-500"},"Leave empty to request for yourself.",-1))])):G("",!0),a("div",zt,[v(E,{label:"Date",type:"date",modelValue:l.value.date,"onUpdate:modelValue":u[1]||(u[1]=d=>l.value.date=d),error:b.value.date},null,8,["modelValue","error"])]),a("div",Zt,[v(E,{label:"Start Time",type:"time",modelValue:l.value.startTime,"onUpdate:modelValue":u[2]||(u[2]=d=>l.value.startTime=d),error:b.value.startTime},null,8,["modelValue","error"]),v(E,{label:"End Time",type:"time",modelValue:l.value.endTime,"onUpdate:modelValue":u[3]||(u[3]=d=>l.value.endTime=d),error:b.value.endTime},null,8,["modelValue","error"])]),o.value?(k(),D("div",Kt,[u[9]||(u[9]=a("span",{class:"mr-2"},"â±",-1)),F(" Duration: "+I(o.value),1)])):G("",!0),a("div",Jt,[u[10]||(u[10]=a("label",{class:"text-sm font-medium text-gray-700"},"Reason",-1)),S(a("textarea",{"onUpdate:modelValue":u[4]||(u[4]=d=>l.value.reason=d),rows:"3",class:"flex w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-navy disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Justification for overtime..."},null,512),[[Oe,l.value.reason]]),b.value.reason?(k(),D("p",St,I(b.value.reason),1)):G("",!0)]),a("div",es,[a("button",{type:"button",onClick:u[5]||(u[5]=d=>O.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),a("button",{type:"submit",disabled:f.value,class:"px-4 py-2 text-sm font-medium text-white bg-brand-navy rounded-md hover:opacity-90 disabled:opacity-50 flex items-center"},[f.value?(k(),D("span",ss,"...")):G("",!0),F(" "+I(T.value?"Update Request":"Submit Request"),1)],8,ts)])],32)}}}),ns={class:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},as={class:"md:flex md:items-center md:justify-between"},os={class:"mt-4 flex md:mt-0 md:ml-4"},is={class:"overflow-x-auto"},ls={class:"min-w-full divide-y divide-gray-200"},us={class:"bg-white divide-y divide-gray-200"},cs={key:1},ds={colspan:"5",class:"px-6 py-12 text-center text-gray-500"},ms={class:"flex flex-col items-center justify-center"},fs={class:"px-6 py-4 whitespace-nowrap"},ps={class:"text-sm font-medium text-gray-900"},ys={class:"text-xs text-gray-500 mt-1"},ws={class:"px-6 py-4"},xs={class:"text-sm text-gray-500 max-w-xs truncate"},hs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},bs={class:"px-6 py-4 whitespace-nowrap"},vs={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},gs={key:0,class:"flex justify-end gap-2"},_s=["onClick"],Ts=["onClick"],Ds={class:"fixed inset-0 z-10 overflow-y-auto"},ks={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ms={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 border-b border-gray-100"},Ps={class:"flex justify-between items-center"},Os={class:"px-4 py-5 sm:p-6"},Ws=ne({__name:"index",setup(r){const e=W(!1),t=W(void 0),{data:s,loading:n,refresh:i}=ve({take:50}),{mutate:p}=ge(),g=V(()=>s.value?Array.isArray(s.value)?s.value:s.value.requests||[]:[]),C=T=>{if(T.status!==se.PENDING){alert("Only pending requests can be edited");return}t.value=T,e.value=!0},H=async T=>{confirm("Are you sure you want to delete this specific request?")&&(await p(T),i())},M=()=>{t.value=void 0,e.value=!0},Q=()=>{e.value=!1,i()};return(T,f)=>{const l=we,b=xe;return k(),D("div",ns,[a("div",as,[f[4]||(f[4]=a("div",{class:"flex-1 min-w-0"},[a("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," My Overtime "),a("p",{class:"mt-1 text-sm text-gray-500"}," Track and manage your overtime submissions ")],-1)),a("div",os,[a("button",{onClick:M,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-brand-navy hover:bg-brand-navy/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-navy shadow-lg shadow-brand-navy/20"},[v(_(He),{class:"w-4 h-4 mr-2"}),f[3]||(f[3]=F(" New Overtime ",-1))])])]),v(b,null,{default:R(()=>[v(l,{class:"p-0 overflow-hidden"},{default:R(()=>[a("div",is,[a("table",ls,[f[8]||(f[8]=a("thead",{class:"bg-gray-50"},[a("tr",null,[a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date & Time "),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Reason "),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Duration "),a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),a("th",{scope:"col",class:"relative px-6 py-3"},[a("span",{class:"sr-only"},"Actions")])])],-1)),a("tbody",us,[_(n)?(k(),D(U,{key:0},j(3,o=>a("tr",{key:o},[...f[5]||(f[5]=[a("td",{class:"px-6 py-4"},[a("div",{class:"h-4 bg-gray-100 rounded w-3/4 animate-pulse"})],-1),a("td",{class:"px-6 py-4"},[a("div",{class:"h-4 bg-gray-100 rounded w-1/2 animate-pulse"})],-1),a("td",{class:"px-6 py-4"},[a("div",{class:"h-4 bg-gray-100 rounded w-1/4 animate-pulse"})],-1),a("td",{class:"px-6 py-4"},[a("div",{class:"h-4 bg-gray-100 rounded w-1/4 animate-pulse"})],-1),a("td",{class:"px-6 py-4"},null,-1)])])),64)):g.value.length===0?(k(),D("tr",cs,[a("td",ds,[a("div",ms,[v(_(Ie),{class:"w-12 h-12 text-gray-300 mb-3"}),f[6]||(f[6]=a("p",{class:"text-lg font-medium text-gray-900"},"No overtime requests",-1)),f[7]||(f[7]=a("p",{class:"text-sm text-gray-500 mt-1"},"You haven't submitted any overtime requests yet.",-1)),a("button",{onClick:M,class:"mt-4 text-brand-navy hover:text-blue-900 font-medium"}," Create Request ")])])])):(k(!0),D(U,{key:2},j(g.value,o=>(k(),D("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[a("td",fs,[a("div",ps,I(_(A)(new Date(o.date),"MMM d, yyyy")),1),a("div",ys,I(_(A)(new Date(o.startTime),"HH:mm"))+" - "+I(_(A)(new Date(o.endTime),"HH:mm")),1)]),a("td",ws,[a("div",xs,I(o.reason),1)]),a("td",hs,I((o.totalMinutes/60).toFixed(1))+" hrs ",1),a("td",bs,[v(We,{status:o.status,managerApprovedAt:o.managerApprovedAt,hrApprovedAt:o.hrApprovedAt},null,8,["status","managerApprovedAt","hrApprovedAt"])]),a("td",vs,[o.status===_(se).PENDING?(k(),D("div",gs,[a("button",{onClick:m=>C(o),class:"text-brand-navy hover:text-blue-900"}," Edit ",8,_s),a("button",{onClick:m=>H(o.id),class:"text-red-600 hover:text-red-900 ml-2"}," Delete ",8,Ts)])):G("",!0)])]))),128))])])])]),_:1})]),_:1}),v(_(Ue),{as:"template",show:e.value},{default:R(()=>[v(_(Be),{as:"div",class:"relative z-50",onClose:f[2]||(f[2]=o=>e.value=!1)},{default:R(()=>[v(_(re),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:R(()=>[...f[9]||(f[9]=[a("div",{class:"fixed inset-0 bg-gray-500/75 backdrop-blur-sm transition-opacity"},null,-1)])]),_:1}),a("div",Ds,[a("div",ks,[v(_(re),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:R(()=>[v(_(Fe),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:R(()=>[a("div",Ms,[a("div",Ps,[v(_(Xe),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:R(()=>[F(I(t.value?"Edit Overtime Request":"New Overtime Request"),1)]),_:1}),a("button",{onClick:f[0]||(f[0]=o=>e.value=!1),class:"text-gray-400 hover:text-gray-500"},[v(_(Ee),{class:"w-5 h-5"})])])]),a("div",Os,[v(rs,{initialData:t.value,onSuccess:Q,onCancel:f[1]||(f[1]=o=>e.value=!1)},null,8,["initialData"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}});export{Ws as default};
