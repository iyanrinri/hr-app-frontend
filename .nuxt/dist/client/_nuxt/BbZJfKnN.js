import{aw as u,K as l,k as s,j as h,x as y}from"./DEyY0kFD.js";import{u as m}from"./DYvQZ50l.js";const d=()=>{const a=y().params.tenant_slug;return e=>{const r=e.startsWith("/")?e:`/${e}`;return a?`/api/${a}${r}`:`/api${r}`}},k=(t=1,a=10,e="",r="")=>{const n=d(),o=u(),c=l(()=>{const i={page:s(t),limit:s(a)};return s(e)&&(i.search=s(e)),s(r)&&(i.isActive=s(r)),i}),{data:f,pending:$,error:p,refresh:g}=m(()=>n("/attendance-periods"),{key:"attendance-periods",query:c,watch:[c],headers:l(()=>({Authorization:`Bearer ${o.token}`}))},"$01mWa_7XPv");return{data:f,loading:$,error:p,refresh:g}},w=t=>{const a=d(),e=u(),{data:r,pending:n,error:o,refresh:c}=m(()=>a(`/attendance-periods/${s(t)}`),{key:`attendance-period-${s(t)}`,immediate:!!s(t),headers:l(()=>({Authorization:`Bearer ${e.token}`}))},"$4arJ1xWbRq");return{data:r,loading:n,error:o,refresh:c}},S=()=>{const t=d(),a=u(),e=h(!1);return{mutate:async n=>{e.value=!0;try{await $fetch(t("/attendance-periods"),{method:"POST",body:n,headers:{Authorization:`Bearer ${a.token}`}})}catch(o){throw o}finally{e.value=!1}},loading:e}},v=()=>{const t=d(),a=u(),e=h(!1);return{mutate:async(n,o)=>{e.value=!0;try{await $fetch(t(`/attendance-periods/${n}`),{method:"PATCH",body:o,headers:{Authorization:`Bearer ${a.token}`}})}catch(c){throw c}finally{e.value=!1}},loading:e}},U=()=>{const t=d(),a=u(),e=h(!1);return{mutate:async n=>{e.value=!0;try{await $fetch(t(`/attendance-periods/${n}`),{method:"DELETE",headers:{Authorization:`Bearer ${a.token}`}})}catch(o){throw o}finally{e.value=!1}},loading:e}};export{v as a,k as b,U as c,S as d,w as u};
