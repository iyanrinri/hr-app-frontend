import{j as p,k as i,x as q,g as M,c as b,a as t,I as G,N as Z,t as N,o as c,b as r,p as T,F as h,U as k,z as R,aL as j,aM as O,aN as L,aA as S,at as H,a4 as _,B as J,y as ee,n as le,V as P,$,l as E,w as C,d as U,X as ae,ab as te,v as oe,aa as K,aO as ne,aP as re,H as ie}from"./DX_cbf2s.js";import{u as W}from"./H1PkYqcn.js";import{_ as se}from"./-LiBT2fH.js";import{_ as z}from"./Dnm_KAh1.js";const D=()=>{const s=q().params.tenant_slug;return v=>{const u=v.startsWith("/")?v:`/${v}`;return s?`/api/${s}${u}`:`/api${u}`}},pl=()=>{const l=D(),{data:s,pending:v,error:u,refresh:g}=W(()=>l("/employees/profile/me"),{key:"profile-me"},"$Q-u-1cimg_");return{data:s,loading:v,error:u,refresh:g}},xl=()=>{const l=D(),s=p(!1);return{mutate:async(u,g)=>{s.value=!0;try{const f=await $fetch(l("/employees/profile/me"),{method:"PATCH",body:u});return g?.onSuccess&&g.onSuccess(),f}catch(f){throw f}finally{s.value=!1}},loading:s}},Nl=l=>{const s=D(),{data:v,pending:u,error:g,refresh:f}=W(()=>s(`/employees/${i(l)}/profile`),{key:`employee-profile-${i(l)}`,immediate:!!i(l)},"$kJlCrMgQ8D");return{data:v,loading:u,error:g,refresh:f}},hl=()=>{const l=D(),s=p(!1);return{mutate:async(u,g,f)=>{s.value=!0;try{const x=await $fetch(l(`/employees/${u}/profile`),{method:"PATCH",body:g});return f?.onSuccess&&f.onSuccess(),x}catch(x){throw x}finally{s.value=!1}},loading:s}},wl=()=>{const l=D(),s=p(!1);return{mutate:async(u,g)=>{s.value=!0;const f=new FormData;f.append("file",g);try{return await $fetch(l(`/employees/${u}/picture`),{method:"POST",body:f})}catch(x){throw x}finally{s.value=!1}},loading:s}},kl=()=>{const l=D(),s=p(!1);return{mutate:async u=>{s.value=!0;try{await $fetch(l(`/employees/${u}/picture`),{method:"DELETE"})}catch(g){throw g}finally{s.value=!1}},loading:s}},Dl=()=>{const l=D(),s=p(!1);return{mutate:async u=>{s.value=!0;const g=new FormData;g.append("file",u);try{return await $fetch(l("/employees/profile/me/picture"),{method:"POST",body:g})}catch(f){throw f}finally{s.value=!1}},loading:s}},Vl=()=>{const l=D(),s=p(!1);return{mutate:async()=>{s.value=!0;try{await $fetch(l("/employees/profile/me/picture"),{method:"DELETE"})}catch(u){throw u}finally{s.value=!1}},loading:s}},ue={class:"flex items-start p-3 bg-gray-50 rounded-lg border border-gray-100"},de={class:"flex-shrink-0 mr-3"},ce={class:"min-w-0 flex-1"},me={class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},be={class:"mt-1 text-sm font-medium text-gray-900 break-words"},m=M({__name:"InfoItem",props:{icon:{type:[Function,Object]},label:{},value:{}},setup(l){return(s,v)=>(c(),b("div",ue,[t("div",de,[(c(),G(Z(l.icon),{class:"w-5 h-5 text-gray-400"}))]),t("div",ce,[t("p",me,N(l.label),1),t("p",be,N(l.value||"-"),1)])]))}}),ve={class:"space-y-6"},ge={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},fe={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},ye={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100 flex items-center"},pe={class:"p-6"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},he={class:"bg-gradient-to-r from-emerald-50 to-teal-50 px-6 py-4 border-b border-gray-100 flex items-center"},we={class:"p-6"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={class:"md:col-span-2"},Ve={class:"md:col-span-2 pt-4 border-t border-gray-100 mt-2"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Ue={class:"bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-4 border-b border-gray-100 flex items-center"},Se={class:"p-6"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$e={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Te={class:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b border-gray-100 flex items-center"},Ae={class:"p-6"},Ie={class:"grid grid-cols-1 gap-4"},El=M({__name:"ProfileView",props:{profile:{}},setup(l){const s=v=>{if(!v)return"-";try{return new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return v}};return(v,u)=>(c(),b("div",ve,[t("div",ge,[t("div",fe,[t("div",ye,[r(i(k),{class:"w-5 h-5 mr-2 text-brand-navy"}),u[0]||(u[0]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Personal Details",-1))]),t("div",pe,[t("div",xe,[r(m,{icon:i(k),label:"Full Name",value:`${l.profile.firstName} ${l.profile.lastName}`},null,8,["icon","value"]),r(m,{icon:i(R),label:"Date of Birth",value:s(l.profile.dateOfBirth)},null,8,["icon","value"]),r(m,{icon:i(k),label:"Gender",value:l.profile.gender?.replace("_"," ")||"-"},null,8,["icon","value"]),r(m,{icon:i(j),label:"Marital Status",value:l.profile.maritalStatus||"-"},null,8,["icon","value"]),r(m,{icon:i(k),label:"Nationality",value:l.profile.nationality||"-"},null,8,["icon","value"]),r(m,{icon:i(k),label:"Religion",value:l.profile.religion||"-"},null,8,["icon","value"]),r(m,{icon:i(j),label:"Blood Type",value:l.profile.bloodType||"-"},null,8,["icon","value"]),r(m,{icon:i(O),label:"ID Number (NIK)",value:l.profile.idNumber||"-"},null,8,["icon","value"]),r(m,{icon:i(O),label:"Tax Number (NPWP)",value:l.profile.taxNumber||"-"},null,8,["icon","value"])])])]),t("div",Ne,[t("div",he,[r(i(L),{class:"w-5 h-5 mr-2 text-emerald-700"}),u[1]||(u[1]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Contact Information",-1))]),t("div",we,[t("div",ke,[r(m,{icon:i(L),label:"Phone Number",value:l.profile.phoneNumber},null,8,["icon","value"]),r(m,{icon:i(L),label:"Alt Phone",value:l.profile.alternativePhone},null,8,["icon","value"]),r(m,{icon:i(S),label:"City",value:l.profile.city},null,8,["icon","value"]),r(m,{icon:i(S),label:"Province",value:l.profile.province},null,8,["icon","value"]),r(m,{icon:i(S),label:"Postal Code",value:l.profile.postalCode},null,8,["icon","value"]),t("div",De,[r(m,{icon:i(S),label:"Address",value:l.profile.address},null,8,["icon","value"])]),t("div",Ve,[u[2]||(u[2]=t("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-3"},"Emergency Contact",-1)),t("div",Ee,[r(m,{icon:i(k),label:"Name",value:l.profile.emergencyContactName},null,8,["icon","value"]),r(m,{icon:i(L),label:"Phone",value:l.profile.emergencyContactPhone},null,8,["icon","value"]),r(m,{icon:i(j),label:"Relation",value:l.profile.emergencyContactRelation},null,8,["icon","value"])])])])])]),t("div",Ce,[t("div",Ue,[r(i(H),{class:"w-5 h-5 mr-2 text-amber-700"}),u[3]||(u[3]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Employment Details",-1))]),t("div",Se,[t("div",Pe,[r(m,{icon:i(_),label:"Employee ID",value:l.profile.employeeNumber||l.profile.id},null,8,["icon","value"]),r(m,{icon:i(H),label:"Status",value:l.profile.employmentStatus},null,8,["icon","value"]),r(m,{icon:i(H),label:"Position",value:l.profile.position||l.profile?.user?.role},null,8,["icon","value"]),r(m,{icon:i(J),label:"Department",value:l.profile.department},null,8,["icon","value"]),r(m,{icon:i(S),label:"Work Location",value:l.profile.workLocation},null,8,["icon","value"]),r(m,{icon:i(R),label:"Join Date",value:s(l.profile.joinDate)},null,8,["icon","value"]),l.profile.contractStartDate||l.profile.contractEndDate?(c(),b(h,{key:0},[r(m,{icon:i(R),label:"Contract Start",value:s(l.profile.contractStartDate)},null,8,["icon","value"]),r(m,{icon:i(R),label:"Contract End",value:s(l.profile.contractEndDate)},null,8,["icon","value"])],64)):T("",!0)])])]),t("div",$e,[t("div",Te,[r(i(O),{class:"w-5 h-5 mr-2 text-purple-700"}),u[4]||(u[4]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Financial Information",-1))]),t("div",Ae,[t("div",Ie,[r(m,{icon:i(J),label:"Bank Name",value:l.profile.bankName},null,8,["icon","value"]),r(m,{icon:i(O),label:"Account Number",value:l.profile.bankAccountNumber},null,8,["icon","value"]),r(m,{icon:i(k),label:"Account Holder",value:l.profile.bankAccountName||l.profile.bankAccountHolder},null,8,["icon","value"])])])])])]))}});var Y=(l=>(l.MALE="MALE",l.FEMALE="FEMALE",l))(Y||{}),Q=(l=>(l.SINGLE="SINGLE",l.MARRIED="MARRIED",l.DIVORCED="DIVORCED",l.WIDOWED="WIDOWED",l))(Q||{}),X=(l=>(l.PERMANENT="PERMANENT",l.CONTRACT="CONTRACT",l.INTERN="INTERN",l.FREELANCE="FREELANCE",l.PROBATION="PROBATION",l.TERMINATED="TERMINATED",l.RESIGNED="RESIGNED",l))(X||{});const Be={class:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 transition-colors hover:border-brand-navy/20"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},Oe=["value"],Le=["value"],Me={key:0},Fe=["value"],je=["value"],He={key:1,class:"flex gap-2"},Ge=["value"],Je={class:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 transition-colors hover:border-brand-navy/20"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},We={class:"md:col-span-2"},ze={key:0},Ye=["value"],Qe=["value"],Xe={key:1,class:"flex gap-2"},qe={class:"md:col-span-2 pt-4 mt-2 border-t border-gray-200"},Ze={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_e=["value"],el={class:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 transition-colors hover:border-brand-navy/20"},ll={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},al={class:"md:col-span-2"},tl={key:0,class:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 transition-colors hover:border-brand-navy/20"},ol={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},nl=["value"],rl={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},Cl=M({__name:"ProfileForm",props:{initialData:{},isLoading:{type:Boolean,default:!1},isAdmin:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(l,{emit:s}){const v=l,u=s,g=["ISLAM","PROTESTANT","CATHOLIC","HINDU","BUDDHA","CONFUCIANISM","OTHER"],f=["Aceh","Bali","Banten","Bengkulu","DI Yogyakarta","DKI Jakarta","Gorontalo","Jambi","Jawa Barat","Jawa Tengah","Jawa Timur","Kalimantan Barat","Kalimantan Selatan","Kalimantan Tengah","Kalimantan Timur","Kalimantan Utara","Kepulauan Bangka Belitung","Kepulauan Riau","Lampung","Maluku","Maluku Utara","Nusa Tenggara Barat","Nusa Tenggara Timur","Papua","Papua Barat","Riau","Sulawesi Barat","Sulawesi Selatan","Sulawesi Tengah","Sulawesi Tenggara","Sulawesi Utara","Sumatera Barat","Sumatera Selatan","Sumatera Utara","Other"],x=["A+","A-","B+","B-","AB+","AB-","O+","O-"],A=["Parent","Husband","Wife","Spouse","Sibling","Child","Relative","Friend","Other"],o=p({}),w=p(!1),V=p(!1);ee(()=>v.initialData,n=>{n&&(o.value={firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber||"",alternativePhone:n.alternativePhone||"",address:n.address||"",city:n.city||"",province:n.province||"",postalCode:n.postalCode||"",dateOfBirth:n.dateOfBirth?n.dateOfBirth.split("T")[0]:"",gender:n.gender,maritalStatus:n.maritalStatus,nationality:n.nationality||"",religion:n.religion||"",bloodType:n.bloodType||"",idNumber:n.idNumber||"",taxNumber:n.taxNumber||"",bankName:n.bankName||"",bankAccountNumber:n.bankAccountNumber||"",bankAccountName:n.bankAccountName||n.bankAccountHolder||"",emergencyContactName:n.emergencyContactName||"",emergencyContactPhone:n.emergencyContactPhone||"",emergencyContactRelation:n.emergencyContactRelation||"",employmentStatus:n.employmentStatus,workLocation:n.workLocation||"",joinDate:n.joinDate?n.joinDate.split("T")[0]:"",position:n.position||"",department:n.department||"",employeeNumber:n.employeeNumber||"",contractStartDate:n.contractStartDate?n.contractStartDate.split("T")[0]:"",contractEndDate:n.contractEndDate?n.contractEndDate.split("T")[0]:""},w.value=!!(n.religion&&!g.includes(n.religion)),V.value=!!(n.province&&!f.includes(n.province)))},{immediate:!0});const I=n=>{const e=n.target.value;e==="OTHER"?(w.value=!0,o.value.religion=""):(w.value=!1,o.value.religion=e)},F=n=>{const e=n.target.value;e==="Other"?(V.value=!0,o.value.province=""):(V.value=!1,o.value.province=e)},y=()=>{const n={...o.value};n.contractStartDate||(n.contractStartDate=null),n.contractEndDate||(n.contractEndDate=null),u("submit",n)};return(n,e)=>{const d=se,B=z;return c(),b("form",{onSubmit:le(y,["prevent"]),class:"space-y-8"},[t("div",Be,[e[42]||(e[42]=t("h3",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2 mb-4"},"Personal Information",-1)),t("div",Re,[r(d,{label:"First Name",modelValue:o.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.firstName=a),placeholder:"John"},null,8,["modelValue"]),r(d,{label:"Last Name",modelValue:o.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.lastName=a),placeholder:"Doe"},null,8,["modelValue"]),r(d,{label:"Date of Birth",type:"date",modelValue:o.value.dateOfBirth,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.dateOfBirth=a)},null,8,["modelValue"]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Gender",-1)),P(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.gender=a),class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[33]||(e[33]=t("option",{value:""},"Select Gender",-1)),(c(!0),b(h,null,E(Object.values(i(Y)),a=>(c(),b("option",{key:a,value:a},N(a.replace("_"," ")),9,Oe))),128))],512),[[$,o.value.gender]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Marital Status",-1)),P(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.maritalStatus=a),class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[35]||(e[35]=t("option",{value:""},"Select Status",-1)),(c(!0),b(h,null,E(Object.values(i(Q)),a=>(c(),b("option",{key:a,value:a},N(a.replace("_"," ")),9,Le))),128))],512),[[$,o.value.maritalStatus]])]),r(d,{label:"Nationality",modelValue:o.value.nationality,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.nationality=a),placeholder:"Indonesian"},null,8,["modelValue"]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Religion",-1)),w.value?(c(),b("div",He,[r(d,{modelValue:o.value.religion,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.religion=a),placeholder:"Specify religion",class:"flex-1"},null,8,["modelValue"]),r(B,{type:"button",variant:"secondary",onClick:e[7]||(e[7]=a=>{w.value=!1,o.value.religion=""}),class:"whitespace-nowrap"},{default:C(()=>[...e[38]||(e[38]=[U("Show List",-1)])]),_:1})])):(c(),b("div",Me,[t("select",{onChange:I,value:o.value.religion,class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[37]||(e[37]=t("option",{value:""},"Select Religion",-1)),(c(),b(h,null,E(g,a=>t("option",{key:a,value:a},N(a),9,je)),64))],40,Fe)]))]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Blood Type",-1)),P(t("select",{"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.bloodType=a),class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[40]||(e[40]=t("option",{value:""},"Select",-1)),(c(),b(h,null,E(x,a=>t("option",{key:a,value:a},N(a),9,Ge)),64))],512),[[$,o.value.bloodType]])]),r(d,{label:"ID Number (NIK)",modelValue:o.value.idNumber,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.idNumber=a)},null,8,["modelValue"]),r(d,{label:"Tax Number (NPWP)",modelValue:o.value.taxNumber,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.taxNumber=a)},null,8,["modelValue"])])]),t("div",Je,[e[49]||(e[49]=t("h3",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2 mb-4"},"Contact Information",-1)),t("div",Ke,[r(d,{label:"Phone Number",modelValue:o.value.phoneNumber,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.phoneNumber=a),placeholder:"+62..."},null,8,["modelValue"]),r(d,{label:"Alternative Phone",modelValue:o.value.alternativePhone,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.alternativePhone=a)},null,8,["modelValue"]),t("div",We,[r(d,{label:"Address",modelValue:o.value.address,"onUpdate:modelValue":e[13]||(e[13]=a=>o.value.address=a),placeholder:"Full address"},null,8,["modelValue"])]),r(d,{label:"City",modelValue:o.value.city,"onUpdate:modelValue":e[14]||(e[14]=a=>o.value.city=a)},null,8,["modelValue"]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Province",-1)),V.value?(c(),b("div",Xe,[r(d,{modelValue:o.value.province,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.province=a),placeholder:"Specify province",class:"flex-1"},null,8,["modelValue"]),r(B,{type:"button",variant:"secondary",onClick:e[16]||(e[16]=a=>{V.value=!1,o.value.province=""}),class:"whitespace-nowrap"},{default:C(()=>[...e[44]||(e[44]=[U("Show List",-1)])]),_:1})])):(c(),b("div",ze,[t("select",{onChange:F,value:o.value.province,class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[43]||(e[43]=t("option",{value:""},"Select Province",-1)),(c(),b(h,null,E(f,a=>t("option",{key:a,value:a},N(a),9,Qe)),64))],40,Ye)]))]),r(d,{label:"Postal Code",modelValue:o.value.postalCode,"onUpdate:modelValue":e[17]||(e[17]=a=>o.value.postalCode=a)},null,8,["modelValue"]),t("div",qe,[e[48]||(e[48]=t("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-3"},"Emergency Contact",-1)),t("div",Ze,[r(d,{label:"Name",modelValue:o.value.emergencyContactName,"onUpdate:modelValue":e[18]||(e[18]=a=>o.value.emergencyContactName=a)},null,8,["modelValue"]),r(d,{label:"Phone",modelValue:o.value.emergencyContactPhone,"onUpdate:modelValue":e[19]||(e[19]=a=>o.value.emergencyContactPhone=a)},null,8,["modelValue"]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Relation",-1)),P(t("select",{"onUpdate:modelValue":e[20]||(e[20]=a=>o.value.emergencyContactRelation=a),class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[46]||(e[46]=t("option",{value:""},"Select Relation",-1)),(c(),b(h,null,E(A,a=>t("option",{key:a,value:a},N(a),9,_e)),64))],512),[[$,o.value.emergencyContactRelation]])])])])])]),t("div",el,[e[50]||(e[50]=t("h3",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2 mb-4"},"Financial Information",-1)),t("div",ll,[r(d,{label:"Bank Name",modelValue:o.value.bankName,"onUpdate:modelValue":e[21]||(e[21]=a=>o.value.bankName=a),placeholder:"BCA"},null,8,["modelValue"]),r(d,{label:"Account Number",modelValue:o.value.bankAccountNumber,"onUpdate:modelValue":e[22]||(e[22]=a=>o.value.bankAccountNumber=a)},null,8,["modelValue"]),t("div",al,[r(d,{label:"Account Holder Name",modelValue:o.value.bankAccountName,"onUpdate:modelValue":e[23]||(e[23]=a=>o.value.bankAccountName=a)},null,8,["modelValue"])])])]),l.isAdmin?(c(),b("div",tl,[e[53]||(e[53]=t("h3",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2 mb-4"},"Employment Details (Admin)",-1)),t("div",ol,[r(d,{label:"Employee ID",modelValue:o.value.employeeNumber,"onUpdate:modelValue":e[24]||(e[24]=a=>o.value.employeeNumber=a)},null,8,["modelValue"]),t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employment Status",-1)),P(t("select",{"onUpdate:modelValue":e[25]||(e[25]=a=>o.value.employmentStatus=a),class:"block w-full px-3 py-2 bg-white text-black border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan text-sm"},[e[51]||(e[51]=t("option",{value:""},"Select Status",-1)),(c(!0),b(h,null,E(Object.values(i(X)),a=>(c(),b("option",{key:a,value:a},N(a),9,nl))),128))],512),[[$,o.value.employmentStatus]])]),r(d,{label:"Position",modelValue:o.value.position,"onUpdate:modelValue":e[26]||(e[26]=a=>o.value.position=a)},null,8,["modelValue"]),r(d,{label:"Department",modelValue:o.value.department,"onUpdate:modelValue":e[27]||(e[27]=a=>o.value.department=a)},null,8,["modelValue"]),r(d,{label:"Work Location",modelValue:o.value.workLocation,"onUpdate:modelValue":e[28]||(e[28]=a=>o.value.workLocation=a)},null,8,["modelValue"]),r(d,{label:"Join Date",type:"date",modelValue:o.value.joinDate,"onUpdate:modelValue":e[29]||(e[29]=a=>o.value.joinDate=a)},null,8,["modelValue"]),r(d,{label:"Contract Start",type:"date",modelValue:o.value.contractStartDate,"onUpdate:modelValue":e[30]||(e[30]=a=>o.value.contractStartDate=a)},null,8,["modelValue"]),r(d,{label:"Contract End",type:"date",modelValue:o.value.contractEndDate,"onUpdate:modelValue":e[31]||(e[31]=a=>o.value.contractEndDate=a)},null,8,["modelValue"])])])):T("",!0),t("div",rl,[r(B,{type:"button",variant:"secondary",onClick:e[32]||(e[32]=a=>n.$emit("cancel")),disabled:l.isLoading},{default:C(()=>[r(i(ae),{class:"w-4 h-4 mr-2"}),e[54]||(e[54]=U(" Cancel ",-1))]),_:1},8,["disabled"]),r(B,{type:"submit",disabled:l.isLoading,class:"bg-brand-navy text-white hover:bg-brand-navy/90"},{default:C(()=>[r(i(te),{class:"w-4 h-4 mr-2"}),U(" "+N(l.isLoading?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])])],32)}}}),il={class:"flex flex-col items-center space-y-4"},sl={key:0,class:"absolute inset-0 flex items-center justify-center bg-black/50 z-20"},ul={key:0,class:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10"},dl=["src","alt"],cl={key:3,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 text-gray-400"},ml=["disabled"],bl={key:0,class:"flex gap-2"},Ul=M({__name:"ProfilePictureUpload",props:{currentImageUrl:{},altText:{},isUploading:{type:Boolean},isDeleting:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},size:{default:"xl"}},emits:["upload","delete"],setup(l,{emit:s}){const v=l,u=s,g=p(null),f=p(!1),x=async y=>{const e=y.target.files?.[0];e&&A(e)},A=y=>{if(y.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/png","image/gif","image/jpg"].includes(y.type)){alert("Only JPG, PNG, and GIF files are allowed");return}u("upload",y),g.value&&(g.value.value="")},o=()=>{confirm("Are you sure you want to remove your profile picture?")&&u("delete")},w=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?f.value=!0:y.type==="dragleave"&&(f.value=!1)},V=async y=>{if(y.preventDefault(),y.stopPropagation(),f.value=!1,y.dataTransfer?.files&&y.dataTransfer.files[0]){const n=y.dataTransfer.files[0];v.canEdit&&A(n)}},I=()=>{v.canEdit&&!v.isUploading&&g.value?.click()},F={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"};return(y,n)=>{const e=z;return c(),b("div",il,[t("div",{class:oe(["relative group rounded-full overflow-hidden border-4 border-white shadow-lg bg-gray-100 flex items-center justify-center transition-all",F[l.size],l.canEdit&&"cursor-pointer hover:ring-4 hover:ring-brand-navy/20",f.value&&"ring-4 ring-brand-cyan scale-105"]),onDragenter:n[0]||(n[0]=d=>l.canEdit?w(d):void 0),onDragleave:n[1]||(n[1]=d=>l.canEdit?w(d):void 0),onDragover:n[2]||(n[2]=d=>l.canEdit?w(d):void 0),onDrop:n[3]||(n[3]=d=>l.canEdit?V(d):void 0),onClick:I},[l.isUploading?(c(),b("div",sl,[r(i(K),{class:"w-8 h-8 text-white animate-spin"})])):(c(),b(h,{key:1},[l.canEdit?(c(),b("div",ul,[r(i(ne),{class:"w-8 h-8 text-white mb-1"}),n[4]||(n[4]=t("span",{class:"text-xs text-white font-medium"},"Change Photo",-1))])):T("",!0)],64)),l.currentImageUrl?(c(),b("img",{key:2,src:l.currentImageUrl,alt:l.altText,class:"w-full h-full object-cover"},null,8,dl)):(c(),b("div",cl,[r(i(k),{class:"w-1/2 h-1/2"})])),t("input",{type:"file",ref_key:"fileInputRef",ref:g,class:"hidden",accept:"image/jpeg,image/png,image/gif",onChange:x,disabled:l.isUploading||!l.canEdit},null,40,ml)],34),l.canEdit?(c(),b("div",bl,[r(e,{variant:"secondary",onClick:I,disabled:l.isUploading,class:"text-xs h-8 px-3"},{default:C(()=>[r(i(re),{class:"w-3.5 h-3.5 mr-1.5"}),n[5]||(n[5]=U(" Upload ",-1))]),_:1},8,["disabled"]),l.currentImageUrl?(c(),G(e,{key:0,variant:"secondary",onClick:o,disabled:l.isUploading||l.isDeleting,class:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 h-8 px-3"},{default:C(()=>[l.isDeleting?(c(),G(i(K),{key:0,class:"w-3.5 h-3.5 animate-spin"})):(c(),b(h,{key:1},[r(i(ie),{class:"w-3.5 h-3.5 mr-1.5"}),n[6]||(n[6]=U(" Remove ",-1))],64))]),_:1},8,["disabled"])):T("",!0)])):T("",!0)])}}});export{Ul as _,xl as a,Dl as b,Vl as c,Cl as d,El as e,Nl as f,hl as g,wl as h,kl as i,pl as u};
