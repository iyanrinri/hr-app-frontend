{"version":3,"file":"PayslipHistoryTable-2hg4T3Ds.js","sources":["../../../../components/payslips/PayslipHistoryTable.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { Eye } from 'lucide-vue-next'\nimport type { Payslip } from '@/types/payslip'\n\nconst props = defineProps<{\n  payslips: Payslip[]\n  loading?: boolean\n}>()\n\nconst route = useRoute()\nconst tenantSlug = route.params.tenant_slug as string\n\nconst formatIDR = (val: string | number) => {\n    return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumFractionDigits: 0 }).format(Number(val))\n}\n\nconst formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('id-ID', { month: 'long', year: 'numeric' })\n}\n\nconst formatShortDate = (date: string) => {\n    return new Date(date).toLocaleDateString()\n}\n</script>\n\n<template>\n    <div v-if=\"loading\" class=\"space-y-4\">\n        <div v-for=\"i in 3\" :key=\"i\" class=\"h-16 bg-gray-100 rounded-md animate-pulse\" />\n    </div>\n\n    <div v-else-if=\"payslips.length === 0\" class=\"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n        No payslip records found.\n    </div>\n\n    <div v-else class=\"overflow-x-auto rounded-lg border border-gray-200\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n                <tr>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Period / Date\n                    </th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Employee\n                    </th>\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Gross Salary\n                    </th>\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Additions\n                    </th>\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Deductions\n                    </th>\n                    <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Take Home Pay\n                    </th>\n                    <th class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Actions\n                    </th>\n                </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"payslip in payslips\" :key=\"payslip.id\" class=\"hover:bg-gray-50 transition-colors\">\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                        <div class=\"text-sm font-medium text-gray-900\">\n                            {{ payslip.payroll?.periodStart ? formatDate(payslip.payroll.periodStart) : 'N/A' }}\n                        </div>\n                        <div class=\"text-xs text-gray-500\">\n                            Gen: {{ formatShortDate(payslip.generatedAt) }}\n                        </div>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                        <template v-if=\"payslip.payroll?.employee\">\n                            <div class=\"text-sm font-medium text-gray-900\">\n                                {{ payslip.payroll.employee.firstName }} {{ payslip.payroll.employee.lastName }}\n                            </div>\n                            <div class=\"text-xs text-gray-500\">\n                                {{ payslip.payroll.employee.position }}\n                            </div>\n                        </template>\n                        <div v-else class=\"text-sm text-gray-500\">-</div>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-500\">\n                        {{ formatIDR(payslip.grossSalary) }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm text-green-600\">\n                        +{{ formatIDR(parseFloat(payslip.overtimePay || '0') + parseFloat(payslip.bonuses || '0') + parseFloat(payslip.allowances || '0')) }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm text-red-600\">\n                        -{{ formatIDR(payslip.totalDeductions || (parseFloat(payslip.taxAmount || '0') + parseFloat(payslip.bpjsKesehatanEmployee || '0') + parseFloat(payslip.bpjsKetenagakerjaanEmployee || '0') + parseFloat(payslip.otherDeductions || '0'))) }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-bold text-brand-navy\">\n                        {{ formatIDR(payslip.takeHomePay) }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-center text-sm font-medium\">\n                        <NuxtLink :to=\"`/${tenantSlug}/dashboard/payslips/${payslip.id}`\">\n                            <button class=\"text-gray-500 hover:text-brand-navy p-2\" title=\"View Detail\">\n                                <Eye class=\"w-4 h-4\" />\n                            </button>\n                        </NuxtLink>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_unref","_push","_parent","_ssrRenderComponent","_createVNode"],"mappings":";;;;;;;;;;;;AAUA,UAAM,QAAQ,SAAA;AACd,UAAM,aAAa,MAAM,OAAO;AAEhC,UAAM,YAAY,CAAC,QAAyB;AACxC,aAAO,IAAI,KAAK,aAAa,SAAS,EAAE,OAAO,YAAY,UAAU,OAAO,uBAAuB,GAAG,EAAE,OAAO,OAAO,GAAG,CAAC;AAAA,IAC9H;AAEA,UAAM,aAAa,CAAC,SAAiB;AACjC,aAAO,IAAI,KAAK,IAAI,EAAE,mBAAmB,SAAS,EAAE,OAAO,QAAQ,MAAM,WAAW;AAAA,IACxF;AAEA,UAAM,kBAAkB,CAAC,SAAiB;AACtC,aAAO,IAAI,KAAK,IAAI,EAAE,mBAAA;AAAA,IAC1B;;;UAIe,QAAA,SAAO;AAAE,cAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,eAAW,MAAA,CAAA,CAAA,WAAA;AAChBC,sBAAA,IAAL,MAAC;;;;MAGD,WAAA,QAAA,SAAS,WAAM,GAAA;AAAQ,cAAA,OAAAF,eAAAC,WAAA,EAAA,OAAM,+FAA2F,MAAA,CAAA,CAAA,oCAAA;AAAA;AAI5H,cAAA,OAAAD,eAAAC,WAAA,EAAA,OAAM,uDAAmD,MAAA,CAAA,CAAA,s5BAAA;AA4BnCC,sBAAA,QAAA,WAAX,YAAO;wKAGH,QAAQ,SAAS,cAAc,WAAW,QAAQ,QAAQ,WAAW,IAAA,KAAA,kEAGhE,gBAAgB,QAAQ,WAAW,CAAA;cAI/B,QAAQ,SAAS,UAAQ;4EAE9BC,eAAA,QAAQ,QAAQ,SAAS,SAAS,KAAOA,eAAA,QAAQ,QAAQ,SAAS,QAAQ,6CAG1EA,eAAA,QAAQ,QAAQ,SAAS,QAAQ;;;;gHAMzC,UAAU,QAAQ,WAAW,CAAA,qFAG5BA,eAAA,UAAU,WAAW,QAAQ,eAAW,GAAA,IAAW,WAAW,QAAQ,WAAO,GAAA,IAAW,WAAW,QAAQ,cAAU,GAAA,CAAA,CAAA,kGAGrH,UAAU,QAAQ,mBAAoB,WAAW,QAAQ,aAAS,GAAA,IAAW,WAAW,QAAQ,yBAAqB,GAAA,IAAW,WAAW,QAAQ,+BAA2B,GAAA,IAAW,WAAW,QAAQ,mBAAe,GAAA,CAAA,CAAA,6GAG5N,UAAU,QAAQ,WAAW,CAAA;;YAGrB,IAAE,IAAMC,MAAA,UAAA,CAAU,uBAAuB,QAAQ,EAAE;AAAA,UAAA;6BAA9D,CAIW,GAAAC,QAAAC,UAAA,aAAA;;;AAFED,uBAAAE,mBAAAH,MAAA,GAAA,GAAA,EAAA,OAAM,aAAS,MAAAE,UAAA,QAAA,CAAA;;;;kBADxBE,YAES,UAAA;AAAA,oBAFD,OAAM;AAAA,oBAA0C,OAAM;AAAA,kBAAA;oBAC1DA,YAAuBJ,MAAA,GAAA,GAAA,EAAlB,OAAM,WAAS;AAAA,kBAAA;;;;;;;;;;;;;;;;;;;"}