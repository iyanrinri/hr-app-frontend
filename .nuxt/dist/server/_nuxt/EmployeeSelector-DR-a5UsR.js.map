{"version":3,"file":"EmployeeSelector-DR-a5UsR.js","sources":["../../../../components/attendance/EmployeeSelector.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useAuthStore } from '@/stores/auth'\nimport { useEmployees } from '@/composables/useEmployees'\nimport { computed } from 'vue'\n\nconst props = defineProps<{\n  modelValue: string\n}>()\n\nconst emit = defineEmits<{\n  (e: 'update:modelValue', value: string): void\n}>()\n\nconst authStore = useAuthStore()\nconst user = computed(() => authStore.user)\n\n// Get all employees for selector (limit 100 for now)\nconst { data: response } = useEmployees(1, 100)\n\nconst employees = computed(() => response.value?.data || [])\n\nconst isAuthorized = computed(() => {\n    if (!user.value) return false\n    return ['HR', 'SUPER', 'ADMIN'].includes(user.value.role)\n})\n\nconst handleChange = (event: Event) => {\n    const target = event.target as HTMLSelectElement\n    emit('update:modelValue', target.value)\n}\n</script>\n\n<template>\n  <div v-if=\"isAuthorized\" class=\"w-full\">\n    <label class=\"block text-sm font-bold text-gray-900 mb-2\">\n      Select Employee\n    </label>\n    <div class=\"relative\">\n        <select\n          :value=\"modelValue\"\n          @change=\"handleChange\"\n          class=\"w-full appearance-none px-4 py-2 pr-10 border border-gray-600 rounded-md focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan bg-white text-black cursor-pointer\"\n        >\n          <option value=\"\">All Employees</option>\n          <option \n            v-for=\"employee in employees\" \n            :key=\"employee.id\" \n            :value=\"employee.id\"\n          >\n            {{ employee.firstName }} {{ employee.lastName }} ({{ employee.user.email }})\n          </option>\n        </select>\n        <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n            <svg class=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                <path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" />\n            </svg>\n        </div>\n    </div>\n  </div>\n</template>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrRenderList","_ssrInterpolate"],"mappings":";;;;;;;;;;;;AAaA,UAAM,YAAY,aAAA;AAClB,UAAM,OAAO,SAAS,MAAM,UAAU,IAAI;AAG1C,UAAM,EAAE,MAAM,SAAA,IAAa,aAAa,GAAG,GAAG;AAE9C,UAAM,YAAY,SAAS,MAAM,SAAS,OAAO,QAAQ,EAAE;AAE3D,UAAM,eAAe,SAAS,MAAM;AAChC,UAAI,CAAC,KAAK,MAAO,QAAO;AACxB,aAAO,CAAC,MAAM,SAAS,OAAO,EAAE,SAAS,KAAK,MAAM,IAAI;AAAA,IAC5D,CAAC;;UASY,aAAA,OAAY;qBAAEA,eAAAC,WAAA,EAAA,OAAM,YAAQ,MAAA,CAAA,qHAM9BC,cAAA,SAAO,QAAA,UAAU;AAMGC,sBAAA,UAAA,QAAZ,aAAQ;wCAEd,SAAO,SAAS,EAAE,KAEhBC,eAAA,SAAS,SAAS,KAAOA,eAAA,SAAS,QAAQ,qBAAQ,SAAS,KAAK,KAAK;;;;;;;;;;;;;;;"}