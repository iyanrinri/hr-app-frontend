{"file":"index-TmyR3Kn9.js","mappings":"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","names":["_push","_parent","_ssrRenderComponent","_unref","_ssrInterpolate","formatIDR","terbilangFallback","_ssrRenderVNode","_createVNode","_resolveDynamicComponent","_ssrRenderList","_ssrRenderAttrs","_mergeProps"],"sources":["../../../../components/payslips/PayslipDetail.vue","../../../../pages/[tenant_slug]/dashboard/payslips/[id]/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { formatCurrency as formatIDR, terbilang as terbilangFallback } from '@/utils'\nimport { Printer, Download, Trash2, ChevronDown, ChevronUp } from 'lucide-vue-next'\nimport type { Payslip } from '@/types/payslip'\n\nconst props = defineProps<{\n  payslip: Payslip\n  isAdmin?: boolean\n}>()\n\nconst emit = defineEmits<{\n  (e: 'delete'): void\n}>()\n\nconst isTaxDetailsOpen = ref(false)\nconst isCompanyDetailsOpen = ref(false)\n\n\n\n// Calculate totalGross if not provided\nconst totalGross = computed(() => props.payslip.totalGross || \n    (parseFloat(props.payslip.grossSalary || '0') + \n     parseFloat(props.payslip.overtimePay || '0') + \n     parseFloat(props.payslip.bonuses || '0') + \n     parseFloat(props.payslip.allowances || '0')).toString()\n)\n\n// Calculate totalDeductions if not provided\nconst totalDeductions = computed(() => props.payslip.totalDeductions ||\n    props.payslip.deductions?.reduce((sum, d) => sum + parseFloat(String(d.amount) || '0'), 0).toString() ||\n    (parseFloat(props.payslip.taxAmount || '0') + \n     parseFloat(props.payslip.bpjsKesehatanEmployee || '0') + \n     parseFloat(props.payslip.bpjsKetenagakerjaanEmployee || '0') + \n     parseFloat(props.payslip.otherDeductions || '0')).toString()\n)\n\nconst handlePrint = () => {\n    window.print()\n}\n\n\n\n</script>\n\n<template>\n    <div>\n        <!-- Print Styles -->\n        <component :is=\"'style'\">\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          #payslip-content,\n          #payslip-content * {\n            visibility: visible;\n          }\n          #payslip-content {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n        }\n        </component>\n\n        <div id=\"payslip-content\" class=\"bg-white shadow-lg rounded-lg overflow-hidden max-w-4xl mx-auto print:shadow-none print:max-w-none\">\n            <!-- Header Actions -->\n            <div class=\"bg-gray-50 px-6 py-4 flex justify-between items-center border-b border-gray-200 print:hidden\">\n                <h1 class=\"text-xl font-bold text-gray-800\">Payslip Detail</h1>\n                <div class=\"flex space-x-2\">\n                    <button v-if=\"isAdmin\" @click=\"$emit('delete')\" class=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\">\n                        <Trash2 class=\"w-4 h-4 mr-2\" />\n                        Delete\n                    </button>\n                    <button @click=\"handlePrint\" class=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-navy\">\n                        <Printer class=\"w-4 h-4 mr-2\" />\n                        Print\n                    </button>\n                    <button @click=\"handlePrint\" class=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-navy\">\n                        <Download class=\"w-4 h-4 mr-2\" />\n                        Download PDF\n                    </button>\n                </div>\n            </div>\n\n            <div class=\"p-8 print:p-0\">\n                <!-- Slip Header -->\n                <div class=\"text-center mb-8 border-b-2 border-gray-800 pb-4\">\n                    <h2 class=\"text-2xl font-bold uppercase tracking-wide\">Slip Gaji / Payslip</h2>\n                    <p class=\"text-gray-600\">Company Name Inc.</p>\n                    <div class=\"mt-2 text-sm text-gray-500\">\n                        Periode: {{ payslip.payroll?.periodStart \n                        ? new Date(payslip.payroll.periodStart).toLocaleDateString('id-ID', { month: 'long', year: 'numeric' })\n                        : 'N/A'\n                        }}\n                    </div>\n                    <div class=\"text-xs text-gray-400 mt-1\">\n                        Generated: {{ new Date(payslip.generatedAt).toLocaleString() }}\n                    </div>\n                </div>\n\n                <!-- Employee Info -->\n                <div class=\"grid grid-cols-2 gap-4 mb-8\">\n                    <div>\n                        <table class=\"w-full text-sm\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"text-gray-500 py-1\" width=\"100\">Name</td>\n                                    <td class=\"font-semibold\">: {{ payslip.payroll?.employee?.firstName || '-' }} {{ payslip.payroll?.employee?.lastName || '' }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"text-gray-500 py-1\">Position</td>\n                                    <td class=\"font-semibold\">: {{ payslip.payroll?.employee?.position || '-' }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"text-gray-500 py-1\">Department</td>\n                                    <td class=\"font-semibold\">: {{ payslip.payroll?.employee?.department || '-' }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div>\n                        <table class=\"w-full text-sm\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"text-gray-500 py-1\" width=\"100\">Status PTKP</td>\n                                    <td class=\"font-semibold\">: {{ payslip.taxCalculationDetails?.ptkpCategory || '-' }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"text-gray-500 py-1\">Payment Date</td>\n                                    <td class=\"font-semibold\">: {{ payslip.payroll?.processedAt ? new Date(payslip.payroll.processedAt).toLocaleDateString() : '-' }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n                    <!-- Income -->\n                    <div>\n                        <h3 class=\"text-sm font-bold uppercase text-gray-500 mb-3 border-b border-gray-200 pb-1\">Penghasilan / Income</h3>\n                        <table class=\"w-full text-sm\">\n                            <tbody>\n                                <tr>\n                                    <td class=\"py-1\">Gaji Pokok</td>\n                                    <td class=\"text-right font-medium\">{{ formatIDR(payslip.grossSalary) }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"py-1\">Lembur {{ payslip.payroll?.overtimeHours ? `(${payslip.payroll.overtimeHours} jam)` : '' }}</td>\n                                    <td class=\"text-right font-medium\">{{ formatIDR(payslip.overtimePay) }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"py-1\">Allowance / Tunjangan</td>\n                                    <td class=\"text-right font-medium\">{{ formatIDR(payslip.allowances) }}</td>\n                                </tr>\n                                <tr>\n                                    <td class=\"py-1\">Bonus</td>\n                                    <td class=\"text-right font-medium\">{{ formatIDR(payslip.bonuses) }}</td>\n                                </tr>\n                                <tr class=\"border-t border-gray-300 font-bold mt-2\">\n                                    <td class=\"pt-2\">Total Penghasilan Kotor</td>\n                                    <td class=\"text-right pt-2\">{{ formatIDR(totalGross) }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <!-- Deductions -->\n                    <div>\n                        <h3 class=\"text-sm font-bold uppercase text-gray-500 mb-3 border-b border-gray-200 pb-1\">Potongan / Deductions</h3>\n                        <table class=\"w-full text-sm\">\n                            <tbody>\n                                <tr v-for=\"deduction in payslip.deductions\" :key=\"deduction.id\">\n                                    <td class=\"py-1\">{{ deduction.description }}</td>\n                                    <td class=\"text-right font-medium text-red-600\">({{ formatIDR(deduction.amount) }})</td>\n                                </tr>\n                                <tr class=\"border-t border-gray-300 font-bold mt-2\">\n                                    <td class=\"pt-2\">Total Potongan</td>\n                                    <td class=\"text-right pt-2 text-red-600\">({{ formatIDR(totalDeductions) }})</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                <!-- Take Home Pay -->\n                <div class=\"bg-brand-navy/5 p-6 rounded-lg text-center mb-8 print:border print:border-gray-300\">\n                    <h3 class=\"text-sm font-bold uppercase text-gray-500 mb-2\">Gaji Bersih / Net Salary</h3>\n                    <p class=\"text-3xl font-bold text-brand-navy mb-2\">{{ formatIDR(payslip.takeHomePay) }}</p>\n                    <p class=\"text-sm italic text-gray-600 capitalize\">\"{{ terbilangFallback(Number(payslip.takeHomePay)) }}\"</p>\n                </div>\n\n                <!-- Collapsible Details -->\n                <div class=\"space-y-4 print:block\">\n                    <!-- Tax Calculation Details -->\n                    <div v-if=\"payslip.taxCalculationDetails\" class=\"border border-gray-200 rounded-md\">\n                        <button \n                            @click=\"isTaxDetailsOpen = !isTaxDetailsOpen\"\n                            class=\"w-full px-4 py-2 bg-gray-50 flex justify-between items-center text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors print:hidden\"\n                        >\n                            <span>Detail Perhitungan Pajak</span>\n                            <component :is=\"isTaxDetailsOpen ? ChevronUp : ChevronDown\" class=\"w-4 h-4\" />\n                        </button>\n                        <!-- Always show in print, toggle in screen -->\n                        <div :class=\"[isTaxDetailsOpen ? 'block' : 'hidden', 'print:block', 'px-4', 'py-3', 'text-sm']\">\n                            <div class=\"grid grid-cols-2 gap-x-8 gap-y-2\">\n                                <div class=\"flex justify-between\">\n                                    <span class=\"text-gray-500\">Kategori PTKP</span>\n                                    <span>{{ payslip.taxCalculationDetails.ptkpCategory }}</span>\n                                </div>\n                                <div class=\"flex justify-between\">\n                                    <span class=\"text-gray-500\">PTKP setahun</span>\n                                    <span>{{ formatIDR(payslip.taxCalculationDetails.ptkp) }}</span>\n                                </div>\n                                <div class=\"flex justify-between\">\n                                    <span class=\"text-gray-500\">Penghasilan Bruto setahun</span>\n                                    <span>{{ formatIDR((payslip.taxCalculationDetails as any).annualGrossSalary || payslip.taxCalculationDetails.annualGross || 0) }}</span>\n                                </div>\n                                <div class=\"flex justify-between\">\n                                    <span class=\"text-gray-500\">Pengurang (Biaya Jabatan + BPJS)</span>\n                                    <span>{{ formatIDR((payslip.taxCalculationDetails as any).annualBpjs || 0) }}</span>\n                                </div>\n                                <div class=\"flex justify-between border-t border-gray-200 pt-1 font-medium bg-yellow-50 px-2 rounded\">\n                                    <span>Penghasilan Kena Pajak (PKP)</span>\n                                    <span>{{ formatIDR((payslip.taxCalculationDetails as any).taxableIncome || payslip.taxCalculationDetails.annualTaxableIncome || 0) }}</span>\n                                </div>\n                                <div></div>\n\n                                <div class=\"col-span-2 mt-2\">\n                                    <p class=\"text-xs text-gray-400 mb-1\">Rincian Lapisan Tarif Pajak:</p>\n                                    <div v-for=\"(bracket, idx) in payslip.taxCalculationDetails.taxBreakdown\" :key=\"idx\" class=\"flex justify-between text-xs text-gray-600 ml-4\">\n                                        <span>â€¢ Lapisan {{ bracket.bracket }} ({{ bracket.rate * 100 }}%)</span>\n                                        <span>{{ formatIDR(bracket.amount) }}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Company Contributions -->\n                    <div class=\"border border-gray-200 rounded-md\">\n                        <button \n                            @click=\"isCompanyDetailsOpen = !isCompanyDetailsOpen\"\n                            class=\"w-full px-4 py-2 bg-gray-50 flex justify-between items-center text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors print:hidden\"\n                        >\n                            <span>Kontribusi Perusahaan (Benefit bukan Tunai)</span>\n                            <component :is=\"isCompanyDetailsOpen ? ChevronUp : ChevronDown\" class=\"w-4 h-4\" />\n                        </button>\n                        <div :class=\"[isCompanyDetailsOpen ? 'block' : 'hidden', 'print:block', 'px-4', 'py-3', 'text-sm']\">\n                            <table class=\"w-full\">\n                                <tbody>\n                                    <tr>\n                                        <td class=\"py-1 text-gray-500\">BPJS Kesehatan (4%)</td>\n                                        <td class=\"text-right\">{{ formatIDR(payslip.bpjsKesehatanCompany) }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"py-1 text-gray-500\">BPJS Ketenagakerjaan (JHT 3.7%)</td>\n                                        <td class=\"text-right\">{{ formatIDR(parseFloat(payslip.grossSalary || '0') * 0.037) }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"py-1 text-gray-500\">BPJS Ketenagakerjaan (Lainnya)</td>\n                                        <td class=\"text-right\">{{ formatIDR(Math.max(0, parseFloat(payslip.bpjsKetenagakerjaanCompany) - (parseFloat(payslip.grossSalary || '0') * 0.037))) }}</td>\n                                    </tr>\n                                    <tr class=\"border-t border-gray-200 font-medium\">\n                                        <td class=\"pt-2\">Total Contribution</td>\n                                        <td class=\"text-right pt-2\">{{ formatIDR(parseFloat(payslip.bpjsKesehatanCompany) + parseFloat(payslip.bpjsKetenagakerjaanCompany)) }}</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Footer for Print -->\n                <div class=\"hidden print:flex mt-12 justify-between px-12 text-center text-sm\">\n                    <div>\n                        <p class=\"mb-16\">Diterima Ole,</p>\n                        <p class=\"font-bold underline\">{{ payslip.payroll?.employee?.firstName || '-' }} {{ payslip.payroll?.employee?.lastName || '' }}</p>\n                        <p>Employee</p>\n                    </div>\n                    <div>\n                        <p class=\"mb-16\">Disetujui Oleh,</p>\n                        <p class=\"font-bold underline\">HR Manager</p>\n                        <p>Human Resources</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport { usePayslip, useDeletePayslip } from '@/composables/usePayslips' // Updated import path\nimport { useAuthStore } from '@/stores/auth'\nimport PayslipDetail from '@/components/payslips/PayslipDetail.vue'\n\ndefinePageMeta({\n  layout: 'dashboard'\n})\n\nconst route = useRoute()\nconst router = useRouter()\nconst id = route.params.id as string\n\nconst { data: payslip, loading, error } = usePayslip(id)\nconst { mutate: deletePayslip } = useDeletePayslip()\nconst authStore = useAuthStore()\n\nconst user = computed(() => authStore.user)\nconst isAdmin = computed(() => ['ADMIN', 'SUPER', 'HR'].includes(user.value?.role || ''))\n\nconst handleDelete = async () => {\n    if (confirm('Are you sure you want to delete this payslip? This action cannot be undone.')) {\n        await deletePayslip(id, {\n            onSuccess: () => {\n                // Navigate back to history usually\n                // Check referer or go to list\n                router.push({ path: '..' }) // go up one level\n            }\n        })\n    }\n}\n</script>\n\n<template>\n    <div class=\"px-4 py-8\">\n        <div v-if=\"loading\" class=\"flex justify-center py-12\">\n            <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-navy\"></div>\n        </div>\n\n        <div v-else-if=\"error\" class=\"text-center py-12 text-red-500\">\n            Error loading payslip: {{ error.message }}\n        </div>\n\n        <PayslipDetail \n            v-else-if=\"payslip\"\n            :payslip=\"payslip\"\n            :isAdmin=\"isAdmin\"\n            @delete=\"handleDelete\"\n        />\n        \n        <div v-else class=\"text-center py-12 text-gray-500\">\n            Payslip not found.\n        </div>\n    </div>\n</template>\n"],"version":3}