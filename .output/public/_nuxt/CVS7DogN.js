import{_ as R}from"./BfigT44c.js";import{_ as T}from"./B9YZYzJt.js";import{g as j,j as v,K as y,c as d,a as t,b as l,V as g,$ as _,k as o,t as a,w as f,o as i,F as h,l as w,aV as V,U as H}from"./DX_cbf2s.js";import{d as M,e as C}from"./Dd9ky5bk.js";import{_ as F}from"./BIZB8tPr.js";import{O as c,A as b}from"./BlBPs-ZZ.js";import{f as x}from"./DEBy37vB.js";import"./uRmCsCMF.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";const N={class:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},P={class:"md:flex md:items-center md:justify-between"},S={class:"mt-4 flex md:mt-0 md:ml-4 gap-2"},U=["value"],O=["value"],$=["value"],B=["value"],G=["value"],I={class:"grid grid-cols-1 gap-5 sm:grid-cols-4"},L={class:"bg-white overflow-hidden shadow rounded-lg"},J={class:"px-4 py-5 sm:p-6"},K={class:"mt-1 text-3xl font-semibold text-gray-900"},z={class:"bg-white overflow-hidden shadow rounded-lg"},Q={class:"px-4 py-5 sm:p-6"},W={class:"mt-1 text-3xl font-semibold text-green-600"},X={class:"bg-white overflow-hidden shadow rounded-lg"},Y={class:"px-4 py-5 sm:p-6"},Z={class:"mt-1 text-3xl font-semibold text-red-600"},q={class:"bg-white overflow-hidden shadow rounded-lg"},tt={class:"px-4 py-5 sm:p-6"},st={class:"mt-1 text-3xl font-semibold text-yellow-600"},et={class:"overflow-x-auto"},ot={class:"min-w-full divide-y divide-gray-200"},at={class:"bg-white divide-y divide-gray-200"},dt={key:1},lt={colspan:"5",class:"px-6 py-12 text-center text-gray-500"},it={class:"flex flex-col items-center justify-center"},rt={class:"px-6 py-4 whitespace-nowrap"},nt={class:"flex items-center"},pt={class:"h-8 w-8 rounded-full bg-brand-navy/10 flex items-center justify-center text-brand-navy mr-3"},mt={class:"text-sm font-medium text-gray-900"},ct={class:"text-xs text-gray-500"},xt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"text-sm text-gray-900"},vt={class:"text-xs text-gray-500 mt-0.5"},yt={class:"px-6 py-4"},gt=["title"],_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ft={class:"px-6 py-4 whitespace-nowrap"},Mt=j({__name:"index",setup(ht){const p=v(""),m=v(""),A=y(()=>({take:50,status:p.value||void 0,approverType:m.value||void 0})),{data:r,loading:k}=M(A),{data:n}=C(),u=y(()=>r.value?Array.isArray(r.value)?r.value:r.value.requests||[]:[]);return(wt,s)=>{const D=R,E=T;return i(),d("div",N,[t("div",P,[s[4]||(s[4]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Approval History "),t("p",{class:"mt-1 text-sm text-gray-500"}," View history of all overtime approvals ")],-1)),t("div",S,[g(t("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-brand-navy focus:ring-brand-navy sm:text-sm","onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e)},[s[2]||(s[2]=t("option",{value:""},"All Status",-1)),t("option",{value:o(c).APPROVED},"Approved",8,U),t("option",{value:o(c).REJECTED},"Rejected",8,O),t("option",{value:o(c).PENDING},"Pending",8,$)],512),[[_,p.value]]),g(t("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-brand-navy focus:ring-brand-navy sm:text-sm","onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e)},[s[3]||(s[3]=t("option",{value:""},"All Types",-1)),t("option",{value:o(b).MANAGER},"Manager",8,B),t("option",{value:o(b).HR},"HR",8,G)],512),[[_,m.value]])])]),t("div",I,[t("div",L,[t("div",J,[s[5]||(s[5]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Processed",-1)),t("dd",K,a(o(n)?.total||0),1)])]),t("div",z,[t("div",Q,[s[6]||(s[6]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Approved",-1)),t("dd",W,a(o(n)?.approved||0),1)])]),t("div",X,[t("div",Y,[s[7]||(s[7]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Rejected",-1)),t("dd",Z,a(o(n)?.rejected||0),1)])]),t("div",q,[t("div",tt,[s[8]||(s[8]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Pending",-1)),t("dd",st,a(o(n)?.pending||0),1)])])]),l(E,null,{default:f(()=>[l(D,{class:"p-0 overflow-hidden"},{default:f(()=>[t("div",et,[t("table",ot,[s[12]||(s[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Reason "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Duration "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ")])],-1)),t("tbody",at,[o(k)?(i(),d(h,{key:0},w(3,e=>t("tr",{key:e},[...s[9]||(s[9]=[t("td",{class:"px-6 py-4"},[t("div",{class:"h-4 bg-gray-100 rounded w-3/4 animate-pulse"})],-1),t("td",{class:"px-6 py-4"},[t("div",{class:"h-4 bg-gray-100 rounded w-1/2 animate-pulse"})],-1),t("td",{class:"px-6 py-4"},[t("div",{class:"h-4 bg-gray-100 rounded w-1/4 animate-pulse"})],-1),t("td",{class:"px-6 py-4"},[t("div",{class:"h-4 bg-gray-100 rounded w-1/4 animate-pulse"})],-1),t("td",{class:"px-6 py-4"},null,-1)])])),64)):u.value.length===0?(i(),d("tr",dt,[t("td",lt,[t("div",it,[l(o(V),{class:"w-12 h-12 text-gray-300 mb-3"}),s[10]||(s[10]=t("p",{class:"text-lg font-medium text-gray-900"},"No approvals found",-1)),s[11]||(s[11]=t("p",{class:"text-sm text-gray-500 mt-1"},"Try adjusting the filters",-1))])])])):(i(!0),d(h,{key:2},w(u.value,e=>(i(),d("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[t("td",rt,[t("div",nt,[t("div",pt,[l(o(H),{class:"w-4 h-4"})]),t("div",null,[t("div",mt,a(e.employee?.name||`Emp #${e.employeeId}`),1),t("div",ct,a(e.employee?.email),1)])])]),t("td",xt,[t("div",ut,a(o(x)(new Date(e.date),"MMM d, yyyy")),1),t("div",vt,a(o(x)(new Date(e.startTime),"HH:mm"))+" - "+a(o(x)(new Date(e.endTime),"HH:mm")),1)]),t("td",yt,[t("div",{class:"text-sm text-gray-900 truncate max-w-xs",title:e.reason},a(e.reason),9,gt)]),t("td",_t,a((e.totalMinutes/60).toFixed(1))+" hrs ",1),t("td",ft,[l(F,{status:e.status,managerApprovedAt:e.managerApprovedAt,hrApprovedAt:e.hrApprovedAt},null,8,["status","managerApprovedAt","hrApprovedAt"])])]))),128))])])])]),_:1})]),_:1})])}}});export{Mt as default};
