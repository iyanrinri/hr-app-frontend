import{_ as H}from"./D2JNKblU.js";import{g as C,c as u,o as n,v as j,t as p,x as M,j as $,y as ie,a as e,F as S,l as G,b as l,d as D,k as t,z as de,p as h,w as b,E as ue,D as F,G as ce,H as me,I as A,J as L,K as Y,N as pe,W as ye,O as ge,P as xe,R as ve,S as T,X as q,V as I,Y as V,Z as be,$ as U,a0 as fe,a1 as he,a2 as z}from"./DX_cbf2s.js";import{h as B,G as W,V as X,Y as J,S as K}from"./Cr8YxTBK.js";import{u as we,a as _e,b as $e,c as Pe,d as ke,e as Se}from"./CvZNUizp.js";import{u as De}from"./BhMDYxe4.js";import{u as Ce}from"./crM-xtPk.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";var v=(i=>(i.PENDING="PENDING",i.PROCESSED="PROCESSED",i.PAID="PAID",i))(v||{});const Ee=C({__name:"PayrollStatusBadge",props:{status:{}},setup(i){const y=a=>{switch(a){case v.PAID:return"bg-green-100 text-green-800 border-green-200";case v.PROCESSED:return"bg-blue-100 text-blue-800 border-blue-200";case v.PENDING:return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=a=>a.replace(/_/g," ");return(a,d)=>(n(),u("span",{class:j(["px-2.5 py-0.5 rounded-full text-xs font-medium border",y(i.status)])},p(c(i.status)),3))}}),Ne={key:0},Ie={class:"w-full bg-white rounded-lg shadow p-6"},Ge={class:"animate-pulse space-y-4"},Ae={key:1},Be={key:2,class:"overflow-x-auto bg-white rounded-lg shadow"},Oe={class:"min-w-full divide-y divide-gray-200"},Re={class:"bg-white divide-y divide-gray-200"},Le={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},je={class:"text-sm font-medium text-gray-900"},Me={class:"text-xs text-gray-500"},Te={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"flex items-center text-sm text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},He={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ye={class:"px-6 py-4 whitespace-nowrap"},qe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},We={class:"flex justify-end space-x-2"},Xe={class:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"View Details"},Je=["onClick"],Ke=["onClick"],Ze=["onClick"],Qe=["onClick"],et={class:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded",title:"View Payslip"},tt={key:2,class:"p-2 opacity-50 cursor-not-allowed rounded",disabled:"",title:"Checking payslip..."},st=C({__name:"PayrollTable",props:{payrolls:{},isLoading:{type:Boolean},isAdmin:{type:Boolean}},emits:["process","markPaid","delete","generatePayslip"],setup(i,{emit:y}){const c=i,d=M().params.tenant_slug,g=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(f),s=$({}),O=(()=>{const m=M().params.tenant_slug;return _=>m?`/api/${m}${_}`:`/api${_}`})(),k=async()=>{const f=c.payrolls.filter(m=>(m.status||(m.isPaid?v.PAID:m.processedAt?v.PROCESSED:v.PENDING))===v.PAID);for(const m of f)if(!s.value[m.id]){s.value[m.id]="loading";try{await $fetch(O(`/payslip/by-payroll/${m.id}`)),s.value[m.id]="exists"}catch{s.value[m.id]="not_exists"}}};return ie(()=>c.payrolls,f=>{f.length>0&&k()},{immediate:!0}),(f,m)=>{const _=H;return i.isLoading?(n(),u("div",Ne,[e("div",Ie,[e("div",Ge,[(n(),u(S,null,G(5,o=>e("div",{key:o,class:"h-12 bg-gray-100 rounded"})),64))])])])):i.payrolls.length===0?(n(),u("div",Ae,[...m[0]||(m[0]=[e("div",{class:"w-full bg-white rounded-lg shadow p-12 text-center text-gray-500"}," No payroll records found. ",-1)])])):(n(),u("div",Be,[e("table",Oe,[m[1]||(m[1]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Period "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Base Salary "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Gross Salary "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Net Salary "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Re,[(n(!0),u(S,null,G(i.payrolls,o=>(n(),u("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",Le,[e("div",Ve,[e("div",je,p(o.employee?.firstName)+" "+p(o.employee?.lastName),1)]),e("div",Me,p(o.employee?.position),1)]),e("td",Te,[e("div",Fe,[l(t(de),{class:"mr-1.5 h-4 w-4"}),D(" "+p(new Date(o.periodStart).toLocaleDateString())+" - "+p(new Date(o.periodEnd).toLocaleDateString()),1)])]),e("td",Ue,p(g(Number(o.baseSalary))),1),e("td",ze,p(g(Number(o.grossSalary))),1),e("td",He,p(g(Number(o.netSalary))),1),e("td",Ye,[l(Ee,{status:o.status||(o.isPaid?"PAID":o.processedAt?"PROCESSED":"PENDING")},null,8,["status"])]),e("td",qe,[e("div",We,[l(_,{to:`/${t(d)}/dashboard/payroll/${o.id}`},{default:b(()=>[e("button",Xe,[l(t(ue),{class:"w-4 h-4"})])]),_:1},8,["to"]),i.isAdmin?(n(),u(S,{key:0},[o.status===t(v).PENDING||!o.status&&!o.processedAt?(n(),u("button",{key:0,class:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded",onClick:E=>f.$emit("process",o.id),title:"Process Payroll"},[l(t(F),{class:"w-4 h-4"})],8,Je)):h("",!0),o.status===t(v).PROCESSED||o.processedAt&&!o.isPaid?(n(),u("button",{key:1,class:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded",onClick:E=>f.$emit("markPaid",o.id),title:"Mark as Paid"},[l(t(ce),{class:"w-4 h-4"})],8,Ke)):h("",!0),o.status!==t(v).PAID&&!o.isPaid?(n(),u("button",{key:2,class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded",onClick:E=>f.$emit("delete",o.id),title:"Delete"},[l(t(me),{class:"w-4 h-4"})],8,Ze)):h("",!0),o.status===t(v).PAID||o.isPaid?(n(),u(S,{key:3},[s.value[o.id]==="not_exists"?(n(),u("button",{key:0,class:"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded",onClick:E=>f.$emit("generatePayslip",o.id),title:"Generate Payslip"},[l(t(L),{class:"w-4 h-4"})],8,Qe)):h("",!0),s.value[o.id]==="exists"?(n(),A(_,{key:1,to:`/${t(d)}/dashboard/payslips?payrollId=${o.id}`},{default:b(()=>[e("button",et,[l(t(L),{class:"w-4 h-4"})])]),_:1},8,["to"])):h("",!0),s.value[o.id]==="loading"?(n(),u("button",tt,[l(t(L),{class:"w-4 h-4 animate-pulse"})])):h("",!0)],64)):h("",!0)],64)):h("",!0)])])]))),128))])])]))}}}),at={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mb-6"},ot={key:1,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mb-6"},rt={class:"flex flex-col space-y-2"},lt={class:"flex items-center justify-between"},nt={class:"text-xs font-medium text-gray-500 mb-1 truncate"},it=C({__name:"PayrollStats",props:{summary:{},loading:{type:Boolean}},setup(i){const y=i,c=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(d),a=Y(()=>{const d=y.summary;return d?[{label:"Total Payrolls",value:d.totalPayrolls.toString(),icon:ye,color:"bg-indigo-100 text-indigo-600",isCurrency:!1},{label:"Base Salary",value:c(Number(d.totalBaseSalary)),icon:ge,color:"bg-blue-100 text-blue-600",isCurrency:!0},{label:"Overtime",value:c(Number(d.totalOvertimePay)),icon:xe,color:"bg-yellow-100 text-yellow-600",isCurrency:!0},{label:"Deductions",value:c(Number(d.totalDeductions)),icon:ve,color:"bg-red-100 text-red-600",isCurrency:!0},{label:"Net Salary",value:c(Number(d.totalNetSalary)),icon:F,color:"bg-green-100 text-green-600",isCurrency:!0}]:[]});return(d,g)=>i.loading?(n(),u("div",at,[(n(),u(S,null,G(5,s=>e("div",{key:s,class:"h-24 bg-gray-100 rounded-lg animate-pulse"})),64))])):(n(),u("div",ot,[(n(!0),u(S,null,G(a.value,(s,x)=>(n(),u("div",{key:x,class:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md transition-shadow"},[e("div",rt,[e("div",lt,[e("div",{class:j(["p-2 rounded-lg",s.color])},[(n(),A(pe(s.icon),{class:"h-4 w-4"}))],2)]),e("div",null,[e("p",nt,p(s.label),1),e("p",{class:j(["font-bold text-gray-900 truncate",s.isCurrency?"text-sm":"text-xl"])},p(s.value),3)])])]))),128))]))}}),dt={class:"fixed inset-0 z-10 overflow-y-auto"},ut={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ct={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 border-b border-gray-100"},mt={class:"flex justify-between items-center"},pt={class:"px-6 py-6 space-y-4"},yt={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},gt=["disabled"],xt=C({__name:"BulkGenerateModal",props:{isOpen:{type:Boolean},isLoading:{type:Boolean}},emits:["close","submit"],setup(i,{emit:y}){const c=y,a=$({periodStart:"",periodEnd:"",bonusPercentage:0}),d=()=>{c("submit",{periodStart:new Date(a.value.periodStart).toISOString(),periodEnd:new Date(a.value.periodEnd).toISOString(),bonusPercentage:a.value.bonusPercentage})};return(g,s)=>(n(),A(t(K),{as:"template",show:i.isOpen},{default:b(()=>[l(t(J),{as:"div",class:"relative z-50",onClose:s[5]||(s[5]=x=>g.$emit("close"))},{default:b(()=>[l(t(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[...s[6]||(s[6]=[e("div",{class:"fixed inset-0 bg-gray-500/75 backdrop-blur-sm transition-opacity"},null,-1)])]),_:1}),e("div",dt,[e("div",ut,[l(t(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[l(t(W),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:b(()=>[e("div",ct,[e("div",mt,[l(t(X),{as:"h3",class:"text-lg font-semibold leading-6 text-gray-900 flex items-center"},{default:b(()=>[l(t(T),{class:"w-5 h-5 mr-2 text-brand-navy"}),s[7]||(s[7]=D(" Bulk Generate Payroll ",-1))]),_:1}),e("button",{onClick:s[0]||(s[0]=x=>g.$emit("close")),class:"text-gray-400 hover:text-gray-500 transition-colors"},[l(t(q),{class:"w-5 h-5"})])])]),e("div",pt,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Period Start",-1)),I(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=x=>a.value.periodStart=x),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-navy focus:border-brand-navy",required:""},null,512),[[V,a.value.periodStart]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Period End",-1)),I(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=x=>a.value.periodEnd=x),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-navy focus:border-brand-navy",required:""},null,512),[[V,a.value.periodEnd]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bonus Percentage (%)",-1)),I(e("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=x=>a.value.bonusPercentage=x),min:"0",max:"100",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-navy focus:border-brand-navy"},null,512),[[V,a.value.bonusPercentage]]),s[11]||(s[11]=e("p",{class:"text-xs text-gray-500 mt-1"},"Applied to base salary for all employees",-1))])]),e("div",yt,[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-lg bg-brand-navy px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-navy/90 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",onClick:d,disabled:i.isLoading||!a.value.periodStart||!a.value.periodEnd},[i.isLoading?(n(),A(t(T),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):h("",!0),D(" "+p(i.isLoading?"Generating...":"Generate All"),1)],8,gt),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-lg bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:s[4]||(s[4]=x=>g.$emit("close"))}," Cancel ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),vt={class:"fixed inset-0 z-10 overflow-y-auto"},bt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ft={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 border-b border-gray-100"},ht={class:"flex justify-between items-center"},wt={class:"px-6 py-6 space-y-4"},_t={key:0,class:"flex items-center p-4 bg-green-50 rounded-lg"},$t={class:"text-sm text-green-600"},Pt={key:1,class:"space-y-3"},kt={class:"flex items-center p-4 bg-red-50 rounded-lg"},St={class:"text-sm text-red-600"},Dt={class:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg"},Ct={class:"min-w-full divide-y divide-gray-200"},Et={class:"bg-white divide-y divide-gray-200"},Nt={class:"px-4 py-2 text-sm text-gray-900"},It={class:"px-4 py-2 text-sm text-red-600"},Gt={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},At=C({__name:"BulkGenerateResultModal",props:{isOpen:{type:Boolean},generated:{},failed:{}},emits:["close"],setup(i,{emit:y}){return(c,a)=>(n(),A(t(K),{as:"template",show:i.isOpen},{default:b(()=>[l(t(J),{as:"div",class:"relative z-50",onClose:a[2]||(a[2]=d=>c.$emit("close"))},{default:b(()=>[l(t(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[...a[3]||(a[3]=[e("div",{class:"fixed inset-0 bg-gray-500/75 backdrop-blur-sm transition-opacity"},null,-1)])]),_:1}),e("div",vt,[e("div",bt,[l(t(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[l(t(W),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:b(()=>[e("div",ft,[e("div",ht,[l(t(X),{as:"h3",class:"text-lg font-semibold leading-6 text-gray-900"},{default:b(()=>[...a[4]||(a[4]=[D(" Generation Result ",-1)])]),_:1}),e("button",{onClick:a[0]||(a[0]=d=>c.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[l(t(q),{class:"w-5 h-5"})])])]),e("div",wt,[i.generated>0?(n(),u("div",_t,[l(t(F),{class:"w-6 h-6 text-green-500 mr-3"}),e("div",null,[a[5]||(a[5]=e("h4",{class:"text-sm font-medium text-green-800"},"Available Payrolls Generated",-1)),e("p",$t,p(i.generated)+" payrolls created successfully.",1)])])):h("",!0),i.failed.length>0?(n(),u("div",Pt,[e("div",kt,[l(t(be),{class:"w-6 h-6 text-red-500 mr-3"}),e("div",null,[a[6]||(a[6]=e("h4",{class:"text-sm font-medium text-red-800"},"Failed to Generate",-1)),e("p",St,p(i.failed.length)+" payrolls encountered errors.",1)])]),e("div",Dt,[e("table",Ct,[a[7]||(a[7]=e("thead",{class:"bg-gray-50 sticky top-0"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Employee"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Reason")])],-1)),e("tbody",Et,[(n(!0),u(S,null,G(i.failed,(d,g)=>(n(),u("tr",{key:g},[e("td",Nt,p(d.employeeName||d.employeeId),1),e("td",It,p(d.reason),1)]))),128))])])])])):h("",!0)]),e("div",Gt,[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-lg bg-brand-navy px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-navy/90 sm:ml-3 sm:w-auto",onClick:a[1]||(a[1]=d=>c.$emit("close"))}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Bt={class:"space-y-6"},Ot={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Rt={class:"flex flex-wrap gap-3"},Lt={class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 flex items-center"},Vt={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},jt={class:"flex flex-col md:flex-row gap-4 mb-4"},Mt={class:"flex gap-4 w-full md:w-auto"},Tt={class:"relative w-full md:w-48"},Ft=["value"],Ut=["value"],zt=["value"],Ht={class:"relative w-full md:w-48"},Yt={key:0,class:"flex items-center justify-between mt-4 px-2"},qt={class:"text-sm text-gray-500"},Wt={class:"flex space-x-2"},Xt=["disabled"],Jt=["disabled"],rs=C({__name:"index",setup(i){const y=$(1),c=$(10),a=$(""),d=$(""),g=$(!1),s=$(!1),x=$({generated:0,failed:[]}),O=Y(()=>({page:y.value,limit:c.value,status:a.value||void 0,department:d.value||void 0})),{data:k,loading:f,refresh:m}=we(O),{data:_,loading:o,refresh:E}=_e(),{mutate:Z}=$e(),{mutate:Q}=Pe();ke();const{mutate:ee,loading:te}=Se(),{mutate:se}=De();Ce();const N=()=>{m(),E()},ae=async w=>{await Z({payrollIds:[w]},{onSuccess:()=>{N()}})},oe=async w=>{await Q(w,{onSuccess:()=>N()})},re=async w=>{if(confirm("Are you sure you want to delete this payroll record?"))try{const r=R=>`/api/${M().params.tenant_slug}${R}`;await $fetch(r(`/payroll/${w}`),{method:"DELETE"}),N()}catch(r){console.error(r)}},le=async w=>{confirm("Generate payslip for this payroll?")&&await se({payrollId:w},{onSuccess:()=>N(),onError:r=>{r?.statusCode===400?alert("Payslip already exists"):alert("Failed to generate payslip")}})},ne=async w=>{await ee(w,{onSuccess:r=>{x.value={generated:r.generated,failed:r.failed},g.value=!1,s.value=!0,N()}})};return(w,r)=>{const R=H;return n(),u("div",Bt,[e("div",Ot,[r[10]||(r[10]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Payroll Management"),e("p",{class:"text-gray-500"},"Process, view, and manage employee payrolls")],-1)),e("div",Rt,[e("button",Lt,[l(t(fe),{class:"mr-2 h-4 w-4"}),r[7]||(r[7]=D(" Export ",-1))]),e("button",{onClick:r[0]||(r[0]=P=>g.value=!0),class:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 flex items-center shadow-sm"},[l(t(T),{class:"mr-2 h-4 w-4"}),r[8]||(r[8]=D(" Bulk Generate ",-1))]),l(R,{to:"payroll/create",class:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-brand-navy hover:bg-brand-navy/90 flex items-center shadow-sm"},{default:b(()=>[l(t(he),{class:"mr-2 h-4 w-4"}),r[9]||(r[9]=D(" New Payroll ",-1))]),_:1})])]),l(it,{summary:t(_),loading:t(o)},null,8,["summary","loading"]),e("div",Vt,[e("div",jt,[e("div",Mt,[e("div",Tt,[I(e("select",{"onUpdate:modelValue":r[1]||(r[1]=P=>a.value=P),class:"w-full appearance-none px-4 py-2.5 pr-10 border-2 border-gray-300 rounded-lg bg-white text-gray-700 font-medium focus:outline-none focus:ring-2 focus:ring-brand-navy focus:border-brand-navy hover:border-gray-400 transition-colors cursor-pointer"},[r[11]||(r[11]=e("option",{value:""},"All Statuses",-1)),e("option",{value:t(v).PENDING},"Pending",8,Ft),e("option",{value:t(v).PROCESSED},"Processed",8,Ut),e("option",{value:t(v).PAID},"Paid",8,zt)],512),[[U,a.value]]),l(t(z),{class:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500 pointer-events-none"})]),e("div",Ht,[I(e("select",{"onUpdate:modelValue":r[2]||(r[2]=P=>d.value=P),class:"w-full appearance-none px-4 py-2.5 pr-10 border-2 border-gray-300 rounded-lg bg-white text-gray-700 font-medium focus:outline-none focus:ring-2 focus:ring-brand-navy focus:border-brand-navy hover:border-gray-400 transition-colors cursor-pointer"},[...r[12]||(r[12]=[e("option",{value:""},"All Departments",-1),e("option",{value:"IT"},"IT",-1),e("option",{value:"HR"},"HR",-1),e("option",{value:"Finance"},"Finance",-1)])],512),[[U,d.value]]),l(t(z),{class:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500 pointer-events-none"})])])]),l(st,{payrolls:t(k)?.data||[],loading:t(f),isAdmin:!0,onProcess:ae,onMarkPaid:oe,onDelete:re,onGeneratePayslip:le},null,8,["payrolls","loading"]),t(k)?(n(),u("div",Yt,[e("div",qt," Showing "+p((y.value-1)*c.value+1)+" to "+p(Math.min(y.value*c.value,t(k).total))+" of "+p(t(k).total)+" results ",1),e("div",Wt,[e("button",{onClick:r[3]||(r[3]=P=>y.value--),disabled:y.value===1,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Xt),e("button",{onClick:r[4]||(r[4]=P=>y.value++),disabled:y.value>=t(k).totalPages,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Jt)])])):h("",!0)]),l(xt,{isOpen:g.value,isLoading:t(te),onClose:r[5]||(r[5]=P=>g.value=!1),onSubmit:ne},null,8,["isOpen","isLoading"]),l(At,{isOpen:s.value,generated:x.value.generated,failed:x.value.failed,onClose:r[6]||(r[6]=P=>s.value=!1)},null,8,["isOpen","generated","failed"])])}}});export{rs as default};
