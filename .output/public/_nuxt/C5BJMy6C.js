import{u as h}from"./xpWVAs-B.js";import{z as d,k as r,y as b,g as x,c as f,p as w,o as v,a,F as _,l as k,t as y}from"./CgE31YDV.js";import{f as S}from"./SxwX5CpG.js";const E=()=>{const o=b().params.tenant_slug;return t=>{const s=t.startsWith("/")?t:`/${t}`;return o?`/api/${o}${s}`:`/api${s}`}},N=(l=1,o=10,t="",s="")=>{const u=E(),i=d(()=>{const e={paginated:1,page:r(l),limit:r(o)};return r(t)&&(e.search=r(t)),r(s)&&(e.status=r(s)),e}),{data:m,pending:p,error:g,refresh:c}=S(()=>u("/employees"),{key:"employees",query:i,watch:[i]},"$o1rN1a6HDp");return{data:m,loading:p,error:g,refresh:c}},V={key:0,class:"w-full"},$={class:"relative"},A=["value"],B=["value"],F=x({__name:"EmployeeSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(l,{emit:o}){const t=o,s=h(),u=d(()=>s.user),{data:i}=N(1,100),m=d(()=>i.value?.data||[]),p=d(()=>u.value?["HR","SUPER","ADMIN"].includes(u.value.role):!1),g=c=>{const e=c.target;t("update:modelValue",e.value)};return(c,e)=>p.value?(v(),f("div",V,[e[2]||(e[2]=a("label",{class:"block text-sm font-bold text-gray-900 mb-2"}," Select Employee ",-1)),a("div",$,[a("select",{value:l.modelValue,onChange:g,class:"w-full appearance-none px-4 py-2 pr-10 border border-gray-600 rounded-md focus:outline-none focus:ring-brand-cyan focus:border-brand-cyan bg-white text-black cursor-pointer"},[e[0]||(e[0]=a("option",{value:""},"All Employees",-1)),(v(!0),f(_,null,k(m.value,n=>(v(),f("option",{key:n.id,value:n.id},y(n.firstName)+" "+y(n.lastName)+" ("+y(n.user.email)+") ",9,B))),128))],40,A),e[1]||(e[1]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[a("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[a("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})])],-1))])])):w("",!0)}});export{F as _};
