import{_ as $}from"./Dnm_KAh1.js";import{_ as M}from"./D2JNKblU.js";import{_ as P,a as L}from"./B-kHxmq3.js";import{_ as N}from"./BfigT44c.js";import{_ as S}from"./B9YZYzJt.js";import{g as U,h as A}from"./B1gHIjVw.js";import{g as B,x as T,K as V,c as r,a as t,b as s,w as o,k as a,o as i,d as l,a1 as j,F as E,l as F,t as d,aQ as R,X as q,ao as H,aR as I}from"./DX_cbf2s.js";import{f as x}from"./DEBy37vB.js";import"./uRmCsCMF.js";import"./H1PkYqcn.js";import"./czVTDFG8.js";const K={class:"space-y-6"},Q={class:"flex justify-between items-center"},X={class:"overflow-x-auto"},z={key:0,class:"flex justify-center py-8"},G={key:1,class:"w-full text-sm text-left"},J={class:"divide-y"},O={key:0},W={class:"px-4 py-3 font-medium text-gray-900"},Y={class:"px-4 py-3 text-gray-600"},Z={class:"px-4 py-3 text-gray-600"},tt={class:"px-4 py-3"},et={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},st={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},at={class:"px-4 py-3 text-gray-500 truncate max-w-[200px]"},ot={class:"px-4 py-3 text-right space-x-2"},ht=B({__name:"index",setup(nt){const m=T().params.tenant_slug,{data:y,loading:f,refresh:g}=U(),{mutate:h,loading:v}=A(),p=V(()=>y.value?.data||[]),b=async u=>{confirm("Are you sure you want to delete this leave period?")&&(await h(u),g())};return(u,e)=>{const c=$,_=M,w=L,k=P,C=N,D=S;return i(),r("div",K,[t("div",Q,[e[1]||(e[1]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900"},"Leave Configuration"),t("p",{class:"text-sm text-gray-500"},"Manage leave periods and entitlements")],-1)),s(_,{to:`/${a(m)}/dashboard/leaves/periods/create`},{default:o(()=>[s(c,null,{default:o(()=>[s(a(j),{class:"w-4 h-4 mr-2"}),e[0]||(e[0]=l(" Create Period ",-1))]),_:1})]),_:1},8,["to"])]),s(D,null,{default:o(()=>[s(k,null,{default:o(()=>[s(w,null,{default:o(()=>[...e[2]||(e[2]=[l("Leave Periods",-1)])]),_:1})]),_:1}),s(C,null,{default:o(()=>[t("div",X,[a(f)?(i(),r("div",z,[...e[3]||(e[3]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-navy"},null,-1)])])):(i(),r("table",G,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 border-b"},[t("tr",null,[t("th",{class:"px-4 py-3 font-medium text-gray-500"},"Name"),t("th",{class:"px-4 py-3 font-medium text-gray-500"},"Start Date"),t("th",{class:"px-4 py-3 font-medium text-gray-500"},"End Date"),t("th",{class:"px-4 py-3 font-medium text-gray-500"},"Status"),t("th",{class:"px-4 py-3 font-medium text-gray-500"},"Description"),t("th",{class:"px-4 py-3 font-medium text-right text-gray-500"},"Actions")])],-1)),t("tbody",J,[a(p).length===0?(i(),r("tr",O,[...e[4]||(e[4]=[t("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 italic"}," No leave periods found. ",-1)])])):(i(!0),r(E,{key:1},F(a(p),n=>(i(),r("tr",{key:n.id,class:"hover:bg-gray-50"},[t("td",W,d(n.name),1),t("td",Y,d(a(x)(new Date(n.startDate),"MMM dd, yyyy")),1),t("td",Z,d(a(x)(new Date(n.endDate),"MMM dd, yyyy")),1),t("td",tt,[n.isActive?(i(),r("span",et,[s(a(R),{class:"w-3 h-3 mr-1"}),e[5]||(e[5]=l(" Active ",-1))])):(i(),r("span",st,[s(a(q),{class:"w-3 h-3 mr-1"}),e[6]||(e[6]=l(" Inactive ",-1))]))]),t("td",at,d(n.description),1),t("td",ot,[s(_,{to:`/${a(m)}/dashboard/leaves/periods/${n.id}`},{default:o(()=>[s(c,{variant:"secondary",class:"h-8 px-2"},{default:o(()=>[s(a(H),{class:"w-4 h-4"})]),_:1})]),_:1},8,["to"]),s(c,{variant:"destructive",class:"h-8 px-2",onClick:it=>b(n.id),disabled:a(v)},{default:o(()=>[s(a(I),{class:"w-4 h-4"})]),_:1},8,["onClick","disabled"])])]))),128))])]))])]),_:1})]),_:1})])}}});export{ht as default};
