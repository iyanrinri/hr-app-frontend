import{j as u,K as y,k as l,x as f}from"./DEyY0kFD.js";import{u as c}from"./DYvQZ50l.js";const o=()=>{const e=f().params.tenant_slug;return t=>{const a=t.startsWith("/")?t:`/${t}`;return e?`/api/${e}${a}`:`/api${a}`}},d=(s={})=>{const e=o(),t=y(()=>({...l(s)})),{data:a,pending:r,error:n,refresh:i}=c(()=>e("/payslip"),{key:"payslips",query:t,watch:[t],server:!1},"$VIdifPUL60");return{data:a,loading:r,error:n,refresh:i}},h=s=>{const e=o(),{data:t,pending:a,error:r,refresh:n}=c(()=>e(`/payslip/${l(s)}`),{key:`payslip-${l(s)}`,immediate:!!l(s),server:!1},"$PYsJ4lYK48");return{data:t,loading:a,error:r,refresh:n}},$=()=>{const s=o(),{data:e,pending:t,error:a,refresh:r}=c(()=>s("/payslip/my/history"),{key:"my-payslips",server:!1},"$ll_gRSh9p3");return{data:e,loading:t,error:a,refresh:r}},P=()=>{const s=o(),e=u(!1);return{mutate:async(a,r)=>{e.value=!0;try{const n=await $fetch(s("/payslip/generate"),{method:"POST",body:a});r?.onSuccess&&r.onSuccess(n)}catch(n){throw r?.onError&&r.onError(n),n}finally{e.value=!1}},loading:e}},v=()=>{const s=o(),e=u(!1);return{mutate:async(a,r)=>{e.value=!0;try{await $fetch(s(`/payslip/${a}`),{method:"DELETE"}),r?.onSuccess&&r.onSuccess()}catch(n){throw r?.onError&&r.onError(n),n}finally{e.value=!1}},loading:e}};export{d as a,$ as b,h as c,v as d,P as u};
